import{R as e,r as a,j as s}from"./vendor-BORITBlt.js";import{a as r,u as n,g as i,p as l,b as t}from"./index-DsguY7Qn.js";const c=e.memo((({path:c,repeater:o,actions:d,className:h="",url:m=""})=>{const{navigateTo:p}=r(),j=n(a.useCallback((e=>i(c)(e.pageData)),[c]))||[],u=a.useMemo((()=>""!==c.trim()),[c]),x=a.useMemo((()=>Array.isArray(j)),[j]),k=a.useCallback((e=>{p(l(m,e))}),[p,m]),y=a.useCallback(((e,a,s)=>{e.preventDefault(),e.stopPropagation(),p(l(a,s))}),[p]);if(!u)return s.jsx("div",{children:"Nieprawidłowa ścieżka do danych."});if(!x)return s.jsx("div",{children:"Nieprawidłowe dane - oczekiwano tablicy."});const b=(a,r=!1)=>s.jsxs("tr",{className:"hover cursor-pointer",onClick:()=>!r&&k(a),children:[o.map((({key:e})=>((e,a,r)=>s.jsx("td",{children:r?s.jsx("div",{className:"skeleton p-1 w-full",children:" "}):e[a]??"Brak danych"},a))(a,e,r))),d&&d.length>0&&s.jsx("td",{className:"gap-sm flex justify-end",children:d.map(((n,i)=>((a,r,n,i)=>n?s.jsx("div",{className:"skeleton w-8",children:" "},i):a.url?s.jsx("div",{className:"bg-base-300 rounded p-sm -my-xs hover:bg-base-100",onClick:e=>y(e,a.url,r),children:a.icon&&"function"==typeof t(a.icon)&&e.createElement(t(a.icon))},i):s.jsx("span",{children:a.icon},i))(n,a,r,i)))},"actions")]},r?`skeleton-${Math.random()}`:a.id||Math.random());return s.jsx("div",{className:`container m-auto p-md ${h}`,children:s.jsxs("table",{className:"table",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[o.map((({label:e,key:a})=>s.jsx("th",{children:e},a))),d&&d.length>0&&s.jsx("th",{children:"Akcje"},"actions-header")]})}),s.jsx("tbody",{children:Array.isArray(j)&&0===j.length?Array.from({length:9}).map((()=>b({},!0))):j.map((e=>b(e)))})]})})}));export{c as default};

const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/AlertAction-kSAbjqRE.js","assets/vendor-BORITBlt.js","assets/index-DsguY7Qn.js","assets/index-DjI6jrxB.css","assets/DeleteAction--W_V2DRQ.js","assets/FetchItemsAction-CnN-lani.js","assets/FilterScopeByIdAction-BWXPZEP6.js","assets/InsertAction-DWEe_Jbz.js","assets/SignInAction-B4NXoXXx.js","assets/UpdateAction-FoOUi-49.js"])))=>i.map(i=>d[i]);
import{j as t,_ as e,$ as n,r as s}from"./vendor-BORITBlt.js";import{_ as o,n as i,a}from"./index-DsguY7Qn.js";const c=Object.assign({"../actions/AlertAction.tsx":()=>o((()=>import("./AlertAction-kSAbjqRE.js")),__vite__mapDeps([0,1,2,3])),"../actions/DeleteAction.tsx":()=>o((()=>import("./DeleteAction--W_V2DRQ.js")),__vite__mapDeps([4,1,2,3])),"../actions/FetchItemsAction.tsx":()=>o((()=>import("./FetchItemsAction-CnN-lani.js")),__vite__mapDeps([5,1,2,3])),"../actions/FilterScopeByIdAction.tsx":()=>o((()=>import("./FilterScopeByIdAction-BWXPZEP6.js")),__vite__mapDeps([6,1,2,3])),"../actions/InsertAction.tsx":()=>o((()=>import("./InsertAction-DWEe_Jbz.js")),__vite__mapDeps([7,1,2,3])),"../actions/SignInAction.tsx":()=>o((()=>import("./SignInAction-B4NXoXXx.js")),__vite__mapDeps([8,1,2,3])),"../actions/UpdateAction.tsx":()=>o((()=>import("./UpdateAction-FoOUi-49.js")),__vite__mapDeps([9,1,2,3]))}),r=new Map,l=({type:s,children:o})=>t.jsxs("p",{className:`${i(s)}  transition-opacity animate-init-pulse container mx-auto bg-opacity-50 p-sm px-md flex gap-xs items-center`,children:["success"===s&&t.jsx(e,{className:"bg-success p-px rounded-full text-neutral-content"}),"info"===s&&t.jsx(n,{className:"bg-info p-px rounded-full  animate-spin"}),o]}),u=({actions:e=[],reloadOnParamsChange:n=!1,onComplete:o})=>{const[i,u]=s.useState(null),[_,p]=s.useState(0),[d,m]=s.useState(!1),[A,f]=s.useState(null),{getAll:x}=a(),[j,E]=s.useState(x());s.useEffect((()=>{if(n&&j!==x()&&(E(x()),p(0),m(!1),f(null)),e[_]&&!A){const t=async()=>{try{await(async(t,e,n)=>{if(!t)return n("Action parameter is undefined"),void e(null);const s=r.get(t);if(s)return void e((()=>s));const o=`../actions/${t}.tsx`,i=c[o];if(!i)return n(`Action file: ${o} not found`),void e(null);try{const n=await i(),s=n.default?n.default:(await n()).default;if(!s)throw new Error(`Component not found for action: ${t}`);r.set(t,s),e((()=>s))}catch(A){n(`Error loading action: ${A instanceof Error?A.message:"Unknown error occurred"}`),e(null)}})(e[_].action,u,f)}catch(t){f("Failed to load component")}};t()}else _>=e.length&&!A&&(m(!0),o?.(!0))}),[e,_,A,x,n,j,o]);return t.jsxs("div",{className:"min-h-12 flex items-center justify-center",children:[A&&t.jsx(l,{type:"error",children:A}),!d&&i&&e[_]&&!A&&t.jsx(i,{scope:e[_].scope,onActionResult:async t=>{t?(await new Promise((t=>setTimeout(t,500))),_<e.length-1?p(_+1):(m(!0),o?.(!0))):(f("Action failed"),o?.(!1))}},_),d&&!A&&t.jsx(l,{type:"success",children:"Actions queue complete"})]})},_=Object.freeze(Object.defineProperty({__proto__:null,default:u},Symbol.toStringTag,{value:"Module"}));export{u as A,l as a,_ as b};

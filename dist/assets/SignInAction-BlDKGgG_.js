import{r as t,j as e}from"./react-ByP4G4OI.js";import"./ajv-Dq24E4CF.js";import"./fast-deep-equal-BfsdOM8n.js";import"./json-schema-traverse-CSPPDTu_.js";import"./fast-uri-DB0GTO5Q.js";const s=t.createContext({user:null,setUserToContext:()=>{}}),o=async(t,e)=>{const s=await fetch("http://localhost:3004/auth/signin",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t,password:e})});if(!s.ok)throw new Error("Failed to sign in");const o=await s.json();return o.token&&((t,e)=>{const s=60*e*60;document.cookie=`auth_token=${t}; path=/; max-age=${s}; secure; samesite=strict`})(o.token,24),o},n=()=>{const{setUserToContext:n}=t.useContext(s);return t.useEffect((()=>{(async()=>{try{const t=await o("admin@admin.com","admin");n(t.user)}catch(t){alert(t)}})()}),[]),e.jsx(e.Fragment,{children:"RunSignInAction"})};export{n as default};

import{r as t,j as s}from"./react-oZDKVO_S.js";import{U as o,a as r}from"./index-snBuBEeN.js";import"./ajv-Dq24E4CF.js";import"./fast-deep-equal-BfsdOM8n.js";import"./json-schema-traverse-CSPPDTu_.js";import"./fast-uri-DB0GTO5Q.js";import"./react-dom-LQPgCP33.js";import"./scheduler-DhxmCZ7v.js";import"./react-router-dom-CyMmjZ09.js";import"./react-router-D2EW8VTN.js";import"./@remix-run-BGIWjZ3f.js";import"./@tanstack-DSP7eJVA.js";import"./zustand-Cz8s1w90.js";import"./use-sync-external-store-BzEbalcz.js";import"./@rjsf-8hShb_6G.js";import"./lodash-C4siI3Fs.js";import"./json-schema-merge-allof-CAUJ1I2Z.js";import"./json-schema-compare-81NA3FRX.js";import"./compute-lcm-DluO9b7R.js";import"./compute-gcd-C3gVrxBz.js";import"./validate.io-array-K7AlgBFX.js";import"./validate.io-integer-array-CDpatKg4.js";import"./validate.io-integer-Dqa_6kz1.js";import"./validate.io-number-E8555gXQ.js";import"./validate.io-function-CsX-6D6V.js";import"./jsonpointer-CvFdTLoF.js";import"./react-is-BhM-FsKG.js";import"./nanoid-BV3C3NLD.js";import"./markdown-to-jsx-Bh8rhLW0.js";import"./ajv-formats-B7rDf6Ua.js";import"./react-icons-ArMHyCzB.js";import"./@monaco-editor-C30kv2pB.js";import"./state-local-BC9ybJZH.js";import"./uuid-aGgpFg1T.js";const e=async(t,s)=>{const o=await fetch("http://localhost:3004/auth/signin",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t,password:s})});if(!o.ok)throw new Error("Failed to sign in");const r=await o.json();return r.token&&((t,s)=>{const o=60*s*60;document.cookie=`auth_token=${t}; path=/; max-age=${o}; secure; samesite=strict`})(r.token,24),r},i=()=>{const{setUserToContext:i}=t.useContext(o),a=r((t=>t.setUserData)),m=r((t=>t.setMainMessage));return t.useEffect((()=>{(async()=>{try{const t=await e("admin@admin.com","admin");i(t.user),a(t.user),m("Sign In successful","success")}catch(t){m("Sign In error: "+t.message,"error")}})()}),[]),s.jsx(s.Fragment,{children:"RunSignInAction"})};export{i as default};

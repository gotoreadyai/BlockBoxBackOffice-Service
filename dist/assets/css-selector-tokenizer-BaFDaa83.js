import{P as e}from"./fastparse-D1qLkcQ1.js";import{c as t}from"./cssesc-xwk1Qk3S.js";var s={},n={typeMatchClass:"\\.((?:\\\\(?:[\\0-\\t\\x0B\\f\\x0E-\\u2027\\u202A-\\uD7FF\\uE000-\\uFFFF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])|(?:[\\x2DA-Z_a-z\\xA0-\\uD7FF\\uE000-\\uFFFF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF]))(?:\\\\(?:[\\0-\\t\\x0B\\f\\x0E-\\u2027\\u202A-\\uD7FF\\uE000-\\uFFFF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])|(?:[\\x2D0-9A-Z_a-z\\xA0-\\uD7FF\\uE000-\\uFFFF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF]))*)",typeMatchId:"#((?:\\\\(?:[\\0-\\t\\x0B\\f\\x0E-\\u2027\\u202A-\\uD7FF\\uE000-\\uFFFF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])|(?:[\\x2DA-Z_a-z\\xA0-\\uD7FF\\uE000-\\uFFFF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF]))(?:\\\\(?:[\\0-\\t\\x0B\\f\\x0E-\\u2027\\u202A-\\uD7FF\\uE000-\\uFFFF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])|(?:[\\x2D0-9A-Z_a-z\\xA0-\\uD7FF\\uE000-\\uFFFF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF]))*)",identifierEscapeRegexp:"(^[\\0-,\\.-@\\[-\\^`\\{-\\x9F]|^\\x2D\\x2D|[\\0-,\\.\\/:-@\\[-\\^`\\{-\\x9F])"},u=n;function r(e){return e.replace(/\\(.)/g,"$1")}function a(e,t){this.selector.nodes.push({type:"comment",content:t})}function o(e){return function(t,s){this.selector.nodes.push({type:e,name:r(s)})}}function i(e,t){var s={type:"pseudo-class",name:r(t),content:""};return this.selector.nodes.push(s),this.token=s,this.brackets=1,"inBrackets"}function c(e,t,s){var n={type:"selector",nodes:[]},u={type:"nested-pseudo-class",name:r(t),nodes:[n]};s&&(n.before=s),this.selector.nodes.push(u),this.stack.push(this.root),this.root=u,this.selector=n}function F(e,t){this.stack.length>0?(t&&(this.selector.after=t),this.root=this.stack.pop(),this.selector=this.root.nodes[this.root.nodes.length-1]):this.selector.nodes.push({type:"invalid",value:e})}function l(e,t,s,n){var u={type:"operator",operator:s};t&&(u.before=t),n&&(u.after=n),this.selector.nodes.push(u)}function p(e){this.selector.nodes.push({type:"spacing",value:e})}function h(e,t,s){var n={type:"element",name:r(s)};t&&(n.namespace=r(t.substr(0,t.length-1))),this.selector.nodes.push(n)}function D(e,t){var s={type:"universal"};t&&(s.namespace=r(t.substr(0,t.length-1))),this.selector.nodes.push(s)}function f(e,t){this.selector.nodes.push({type:"attribute",content:t})}function d(e){this.selector.nodes.push({type:"invalid",value:e})}function v(e){this.selector.before=e}function m(e){this.selector.after=e}function g(e,t,s){var n={type:"selector",nodes:[]};t&&(this.selector.after=t),s&&(n.before=s),this.root.nodes.push(n),this.selector=n}function y(e){this.token.content+=e}var B=new e({selector:function(){var e={"/\\*([\\s\\S]*?)\\*/":a};e[u.typeMatchClass]=o("class"),e[u.typeMatchId]=o("id");var t,s={":(not|any|-\\w+?-any|matches|is|where|has|local|global)\\((\\s*)":c,":((?:\\\\.|[A-Za-z_\\-0-9])+)\\(":i,":((?:\\\\.|[A-Za-z_\\-0-9])+)":o("pseudo-class"),"::((?:\\\\.|[A-Za-z_\\-0-9])+)":o("pseudo-element"),"(\\*\\|)((?:\\\\.|[A-Za-z_\\-0-9])+)":h,"(\\*\\|)\\*":D,"((?:\\\\.|[A-Za-z_\\-0-9])*\\|)?\\*":D,"((?:\\\\.|[A-Za-z_\\-0-9])*\\|)?((?:\\\\.|[A-Za-z_\\-])(?:\\\\.|[A-Za-z_\\-0-9])*)":h,"\\[([^\\]]+)\\]":f,"(\\s*)\\)":F,"(\\s*)((?:\\|\\|)|(?:>>)|[>+~])(\\s*)":l,"(\\s*),(\\s*)":g,"\\s+$":m,"^\\s+":v,"\\s+":p,".":d};for(t in s)Object.prototype.hasOwnProperty.call(s,t)&&(e[t]=s[t]);return e}(),inBrackets:{"/\\*[\\s\\S]*?\\*/":y,'"([^\\\\"]|\\\\.)*"':y,"'([^\\\\']|\\\\.)*'":y,"[^()'\"/]+":y,"\\(":function(e){this.token.content+=e,this.brackets++},"\\)":function(e){if(0==--this.brackets)return"selector";this.token.content+=e},".":y}});var C=function(e){var t={type:"selector",nodes:[]},s={type:"selectors",nodes:[t]};return B.parse("selector",e,{stack:[],root:s,selector:t}),s},b=new RegExp(n.identifierEscapeRegexp,"g");function A(e,t){return"*"===e?"*":t?e.replace(b,"\\$1"):e.replace(/(^[^A-Za-z_\\-]|^--|[^A-Za-z_0-9\\-])/g,"\\$1")}function x(e){var t=function(e){switch(e.type){case"selectors":return e.nodes.map(x).join(",");case"selector":return e.nodes.map(x).join("");case"element":return("string"==typeof e.namespace?A(e.namespace)+"|":"")+A(e.name);case"class":return"."+A(e.name,!0);case"id":return"#"+A(e.name,!0);case"attribute":return"["+e.content+"]";case"spacing":case"invalid":return e.value;case"pseudo-class":return":"+A(e.name)+("string"==typeof e.content?"("+e.content+")":"");case"nested-pseudo-class":return":"+A(e.name)+"("+e.nodes.map(x).join(",")+")";case"pseudo-element":return"::"+A(e.name);case"universal":return("string"==typeof e.namespace?A(e.namespace)+"|":"")+"*";case"operator":return e.operator;case"comment":return"/*"+e.content+"*/"}}(e);return e.before&&(t=e.before+t),e.after&&(t+=e.after),t}var k=x;function E(e){return e.replace(/\\(?:([a-fA-F0-9]{1,6})|(.))/g,(function(e,t,s){if(s)return s;var n=parseInt(t,16);return n<65536?String.fromCharCode(n):String.fromCharCode(Math.floor((n-65536)/1024)+55296)+String.fromCharCode((n-65536)%1024+56320)}))}function w(e,t){var s=E(t);this.value.nodes.push({type:"string",value:s,stringType:e[0]})}function z(e,t,s,n){var u={type:"url"};switch(t&&(u.innerSpacingBefore=t),n&&(u.innerSpacingAfter=n),s[0]){case'"':u.stringType='"',u.url=E(s.substr(1,s.length-2));break;case"'":u.stringType="'",u.url=E(s.substr(1,s.length-2));break;default:u.url=E(s)}this.value.nodes.push(u)}var Z=new e({decl:{"^\\s+":function(e){this.value.before=e},"/\\*([\\s\\S]*?)\\*/":function(e,t){this.value.nodes.push({type:"comment",content:t})},'"((?:[^\\\\"]|\\\\.)*)"':w,"'((?:[^\\\\']|\\\\.)*)'":w,'url\\((\\s*)("(?:[^\\\\"]|\\\\.)*")(\\s*)\\)':z,"url\\((\\s*)('(?:[^\\\\']|\\\\.)*')(\\s*)\\)":z,"url\\((\\s*)((?:[^\\\\)'\"]|\\\\.)*)(\\s*)\\)":z,"([\\w-]+)\\((\\s*)":function(e,t,s){this.stack.push(this.root),this.root={type:"nested-item",name:t,nodes:[{type:"value",nodes:[]}]},s&&(this.root.nodes[0].before=s),this.value.nodes.push(this.root),this.value=this.root.nodes[0]},"(\\s*)(\\))":function(e,t,s){if(0===this.stack.length){if(t){var n=this.value.nodes[this.value.nodes.length-1];n.after=(n.after||"")+t}this.value.nodes.push({type:"invalid",value:s})}else t&&(this.value.after=t),this.root=this.stack.pop(),this.value=this.root.nodes[this.root.nodes.length-1]},",(\\s*)":function(e,t){var s={type:"value",nodes:[]};t&&(s.before=t),this.root.nodes.push(s),this.value=s},"\\s+$":function(e){this.value.after=e},"\\s+":function(e){var t=this.value.nodes[this.value.nodes.length-1];t.after=(t.after||"")+e},"[^\\s,)]+":function(e){this.value.nodes.push({type:"item",name:e})}}});var _,S=function(e){var t={type:"value",nodes:[]},s={type:"values",nodes:[t]};return Z.parse("decl",e,{stack:[],root:s,value:t}),s},j=t;function $(e,t){return j(e,{quotes:'"'===t?"double":"single"})}var T=_=function(e){var t=function(e){switch(e.type){case"values":return e.nodes.map(_).join(",");case"value":return e.nodes.map(_).join("");case"item":return e.name;case"nested-item":return e.name+"("+e.nodes.map(_).join(",")+")";case"invalid":return e.value;case"comment":return"/*"+e.content+"*/";case"string":switch(e.stringType){case"'":return"'"+$(e.value,"'")+"'";case'"':return'"'+$(e.value,'"')+'"'}throw new Error("Invalid stringType");case"url":var t="url("+(e.innerSpacingBefore||""),s=(e.innerSpacingAfter||"")+")";switch(e.stringType){case"'":return t+"'"+e.url.replace(/(\\)/g,"\\$1").replace(/'/g,"\\'")+"'"+s;case'"':return t+'"'+e.url.replace(/(\\)/g,"\\$1").replace(/"/g,'\\"')+'"'+s;default:return t+e.url.replace(/("|'|\)|\\)/g,"\\$1")+s}}}(e);return e.before&&(t=e.before+t),e.after&&(t+=e.after),t};s.parse=C,s.stringify=k,s.parseValues=S,s.stringifyValues=T;export{s as l};

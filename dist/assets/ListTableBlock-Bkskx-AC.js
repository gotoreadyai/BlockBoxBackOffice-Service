import{R as e,p as a,r as s,j as l}from"./vendor-D21JgsWP.js";import{b as n,u as r,g as t,p as i,c}from"./index-ClqwfEUu.js";const d=e.memo((({path:d,repeater:o,actions:h,className:m="",url:p=""})=>{const{navigateTo:u}=n(),{workspace:x,slug:j}=a(),k=r(s.useCallback((e=>t(d)(e.pageData)),[d])),g=r(s.useCallback((e=>e.loading[d]),[d])),y=s.useMemo((()=>""!==d.trim()),[d]),f=s.useMemo((()=>Array.isArray(k)),[k]),N=s.useCallback((e=>{u(i(p,e))}),[u,p]),b=s.useCallback(((e,a,s)=>{e.preventDefault(),e.stopPropagation(),u(i(a,s))}),[u]);if(!y)return l.jsx("div",{children:"Nieprawidłowa ścieżka do danych."});if(!g&&!f)return l.jsx("div",{children:"Nieprawidłowe dane - oczekiwano tablicy."});const v=(a,s=!1)=>l.jsxs("tr",{className:"hover cursor-pointer",onClick:()=>!s&&N(a),children:[o.map((({key:e})=>((e,a,s)=>{const n=(r=e,a.split(".").reduce(((e,a)=>e&&e[a]),r));var r;let t;return t=s?l.jsx("div",{className:"skeleton p-1 w-full",children:" "}):"string"==typeof n?n:null!=n?"Dane są, ale nie są typu string":"Brak danych",l.jsx("td",{children:t},a)})(a,e,s))),h&&h.length>0&&l.jsx("td",{className:"gap-sm flex justify-end",children:h.map(((n,r)=>((a,s,n,r)=>n?l.jsx("div",{className:"skeleton w-8",children:" "},r):a.url?l.jsx("div",{className:"bg-base-300 rounded p-sm -my-xs hover:bg-base-100",onClick:e=>b(e,a.url,{...s,_router_workspace:x,_router_slug:j}),children:a.icon&&"function"==typeof c(a.icon)&&e.createElement(c(a.icon))},r):l.jsx("span",{children:a.icon},r))(n,a,s,r)))},"actions")]},s?`skeleton-${Math.random()}`:a.id||Math.random());return l.jsx("div",{className:`container m-auto ${m}`,children:l.jsxs("table",{className:"table",children:[l.jsx("thead",{children:l.jsxs("tr",{children:[o.map((({label:e,key:a})=>l.jsx("th",{children:e},a))),h&&h.length>0&&l.jsx("th",{className:"text-right",children:"Akcje"},"actions-header")]})}),l.jsx("tbody",{children:g?Array.from({length:5}).map(((e,a)=>l.jsxs("tr",{children:[o.map((({key:e})=>l.jsx("td",{children:l.jsx("div",{className:"skeleton p-1 w-full",children:" "})},e))),h&&h.length>0&&l.jsx("td",{className:"gap-sm flex justify-end",children:h.map(((e,a)=>l.jsx("div",{className:"skeleton w-8",children:" "},a)))},"actions")]},`skeleton-${a}`))):k&&0===k.length?l.jsx("tr",{children:l.jsx("td",{colSpan:o.length+(h?1:0),className:"text-left",children:"Brak danych do wyświetlenia."})}):k?.map((e=>v(e)))})]})})}));export{d as default};

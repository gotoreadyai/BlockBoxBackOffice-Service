const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/MainDashboard-C-SHXAEH.js","assets/vendor-D21JgsWP.js","assets/AuthLayout-YgDYlFAK.js","assets/LandingDoubleClassic-CU6Lnf8Q.js","assets/AlertAction-BuDP2N4c.js","assets/ActionMsg-CNHBAleQ.js","assets/DeleteAction-CrhDCq9G.js","assets/FetchItemAction-s18pPqRm.js","assets/FetchItemsAction-Cvqymhvk.js","assets/FilterScopeByIdAction-NdZ8xv1u.js","assets/InsertAction-BmiK-7oZ.js","assets/useValidateScope-CzIszaus.js","assets/SignInAction-CAw9LgmP.js","assets/UpdateAction-Cmt8S3kX.js","assets/LogoSchema copy-BzsnYfuT.js","assets/ActionBlock-BWcg28hl.js","assets/FancyImages-DX186_fT.js","assets/HeadingText-Bthoudfk.js","assets/Image-B3h545Xd.js","assets/InfoColumns-CYOKsSXB.js","assets/InputBlock-XzhbGQXc.js","assets/Leed-DC1kgrBM.js","assets/Link-BQhYk8jH.js","assets/ListBlock-DtFRppLX.js","assets/ListTableBlock-Bkskx-AC.js","assets/PaginationBlock-CPr_hdSr.js","assets/Paragraph-CL8Oue3i.js","assets/SubmitForm-DBrGg3tb.js","assets/WorkspacesHero-DpP9gHum.js"])))=>i.map(i=>d[i]);
import{Q as e,j as t,a,r as s,b as l,R as o,F as n,L as r,c,H as i,d,e as p,f as m,g as u,h as b,i as h,k as g,l as y,m as f,n as x,o as k,u as j,p as v,q as S,v as N,s as _,t as w,w as A,x as D,y as C,z as I,A as E,B as T,C as L,D as P,E as O,G as U,I as B,J as F,K as R,M,N as $,O as z,P as V,S as q,T as K,U as H,V as W,W as G,X as J,Y as Q,Z as X,_ as Z,$ as Y,a0 as ee,a1 as te,a2 as ae,a3 as se,a4 as le,a5 as oe,a6 as ne,a7 as re}from"./vendor-D21JgsWP.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const a of e)if("childList"===a.type)for(const e of a.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();const ce=new e({defaultOptions:{queries:{refetchOnWindowFocus:!1,retry:1}}}),ie=({children:e})=>t.jsx(a,{client:ce,children:e}),de=s.createContext({user:null,setUserToContext:()=>{}}),pe=({children:e})=>{const[a,l]=s.useState(null);return t.jsx(de.Provider,{value:{user:a,setUserToContext:l},children:e})},me=l((e=>({slots:{},isEditing:!0,selectedSlot:null,selectedBlock:null,copiedBlocks:[],setSlots:t=>e({slots:t}),addBlockToSlot:(t,a)=>{e((e=>({slots:{...e.slots,[t]:[...e.slots[t]||[],a]}})))},setSelectedSlot:t=>e({selectedSlot:t}),setSelectedBlock:t=>e({selectedBlock:t}),setCopiedBlocks:t=>e({copiedBlocks:t}),removeBlock:(t,a)=>{e((e=>({slots:{...e.slots,[a]:e.slots[a].filter((e=>e.id!==t))}})))},deselectBlock:()=>e({selectedBlock:null}),moveBlock:(t,a,s)=>{e((e=>{const l=[...e.slots[a]||[]],o=l.findIndex((e=>e.id===t));if(-1===o)return e;const n="up"===s?o-1:o+1;if(n<0||n>=l.length)return e;const[r]=l.splice(o,1);return l.splice(n,0,r),{slots:{...e.slots,[a]:l}}}))},setBlockData:(t,a)=>{e((e=>{const s={...e.slots};return Object.keys(s).forEach((e=>{const l=s[e];Array.isArray(l)&&(s[e]=l.map((e=>e.id===t?{...e,data:a}:e)))})),{slots:s}}))}}))),ue={},be=function(e,t,a){let s=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const e=document.querySelector("meta[property=csp-nonce]"),a=e?.nonce||e?.getAttribute("nonce");s=Promise.all(t.map((e=>{if((e=function(e){return"/"+e}(e))in ue)return;ue[e]=!0;const t=e.endsWith(".css"),s=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${s}`))return;const l=document.createElement("link");return l.rel=t?"stylesheet":"modulepreload",t||(l.as="script",l.crossOrigin=""),l.href=e,a&&l.setAttribute("nonce",a),document.head.appendChild(l),t?new Promise(((t,a)=>{l.addEventListener("load",t),l.addEventListener("error",(()=>a(new Error(`Unable to preload CSS for ${e}`))))})):void 0})))}return s.then((()=>e())).catch((e=>{const t=new Event("vite:preloadError",{cancelable:!0});if(t.payload=e,window.dispatchEvent(t),!t.defaultPrevented)throw e}))},he={MainDashboard:{id:"MainDashboard",component:o.lazy((()=>be((()=>import("./MainDashboard-C-SHXAEH.js")),__vite__mapDeps([0,1])))),slots:["header","primaryContent","secondaryContent","tertiaryContent","footer"],parentSlots:["header","footer"]},AuthLayout:{id:"AuthLayout",component:o.lazy((()=>be((()=>import("./AuthLayout-YgDYlFAK.js")),__vite__mapDeps([2,1])))),slots:["header","primaryContent","secondaryContent","tertiaryContent","footer"],parentSlots:["header","footer"]},LandingDoubleClassic:{id:"LandingDoubleClassic",component:o.lazy((()=>be((()=>import("./LandingDoubleClassic-CU6Lnf8Q.js")),__vite__mapDeps([3,1])))),slots:["header","primaryContent","secondaryContent","tertiaryContent","footer"],parentSlots:["header","footer"]}},ge={},ye=e=>!e||e.endsWith(".")?()=>{}:(ge[e]||(ge[e]=t=>{try{return e.split(".").reduce(((e,t)=>e?e[t]:void 0),t)}catch{return}}),ge[e]),fe=l(((e,t)=>({pageData:{},initialScope:{},loading:{},selectedLayoutName:Object.keys(he)[0],setLoading:(t,a)=>e((e=>({loading:{...e.loading,[t]:a}}))),setSelectedLayoutName:t=>{e((e=>({selectedLayoutName:t,pageData:{...e.pageData,layout:t}})))},updateField:(a,s)=>{const l={...t().pageData},o=((e,t,a)=>t.reduceRight(((a,s,l)=>{if(isNaN(Number(s)))return{...ye(t.slice(0,l).join("."))(e),[s]:a};const o=ye(t.slice(0,l).join("."))(e)||[];return o[Number(s)]=a,o}),a))(l,a.split("."),s);e({pageData:{...l,...o}})},getFieldValue:e=>ye(e)(t().pageData)??"",resetPage:()=>e({pageData:{}})}))),xe={users:{id:{type:"UUID",allowNull:!1,primaryKey:!0},email:{type:"STRING",allowNull:!1},firstName:{type:"STRING",allowNull:!0},lastName:{type:"STRING",allowNull:!0},password:{type:"STRING",allowNull:!1},role:{type:"ENUM",allowNull:!1},createdAt:{type:"DATE",allowNull:!1},updatedAt:{type:"DATE",allowNull:!1}},workspaces:{id:{type:"UUID",allowNull:!1,primaryKey:!0},title:{type:"STRING",allowNull:!1},slug:{type:"STRING",allowNull:!1},content:{type:"JSONB",allowNull:!1},ownerId:{type:"UUID",allowNull:!1,references:{model:"Users",key:"id"},onDelete:"NO ACTION",onUpdate:"CASCADE"},createdAt:{type:"DATE",allowNull:!1},updatedAt:{type:"DATE",allowNull:!1}},documents:{id:{type:"UUID",allowNull:!1,primaryKey:!0},title:{type:"STRING",allowNull:!1},slug:{type:"STRING",allowNull:!1},content:{type:"JSONB",allowNull:!1},workspaceId:{type:"UUID",allowNull:!1,references:{model:"Workspaces",key:"id"},onDelete:"CASCADE",onUpdate:"CASCADE"},ownerId:{type:"UUID",allowNull:!1,references:{model:"Users",key:"id"},onDelete:"NO ACTION",onUpdate:"CASCADE"},createdAt:{type:"DATE",allowNull:!1},updatedAt:{type:"DATE",allowNull:!1}},categories:{id:{type:"UUID",allowNull:!1,primaryKey:!0},name:{type:"STRING",allowNull:!1},parentId:{type:"UUID",allowNull:!0},createdAt:{type:"DATE",allowNull:!1},updatedAt:{type:"DATE",allowNull:!1}},documentCategories:{documentId:{type:"UUID",allowNull:!0,primaryKey:!0,references:{model:"Documents",key:"id"},onDelete:"CASCADE",onUpdate:"CASCADE"},categoryId:{type:"UUID",allowNull:!0,primaryKey:!0,references:{model:"Categories",key:"id"},onDelete:"CASCADE",onUpdate:"CASCADE"},createdAt:{type:"DATE",allowNull:!1},updatedAt:{type:"DATE",allowNull:!1}},files:{id:{type:"UUID",allowNull:!1,primaryKey:!0},name:{type:"STRING",allowNull:!1},type:{type:"STRING",allowNull:!0},url:{type:"STRING",allowNull:!0},createdAt:{type:"DATE",allowNull:!1},updatedAt:{type:"DATE",allowNull:!1}},documentFiles:{documentId:{type:"UUID",allowNull:!0,primaryKey:!0,references:{model:"Documents",key:"id"},onDelete:"CASCADE",onUpdate:"CASCADE"},fileId:{type:"UUID",allowNull:!0,primaryKey:!0,references:{model:"Files",key:"id"},onDelete:"CASCADE",onUpdate:"CASCADE"}},subjects:{id:{type:"UUID",allowNull:!1,primaryKey:!0},name:{type:"STRING",allowNull:!1}},schools:{id:{type:"UUID",allowNull:!1,primaryKey:!0},name:{type:"STRING",allowNull:!1},type:{type:"STRING",allowNull:!1}},courseLevels:{id:{type:"UUID",allowNull:!1,primaryKey:!0},title:{type:"STRING",allowNull:!1},schoolId:{type:"UUID",allowNull:!1,references:{model:"Schools",key:"id"},onDelete:"CASCADE",onUpdate:"CASCADE"}},courseLevelSubjects:{courseLevelId:{type:"UUID",allowNull:!0,primaryKey:!0,references:{model:"CourseLevels",key:"id"},onDelete:"CASCADE",onUpdate:"CASCADE"},subjectId:{type:"UUID",allowNull:!0,primaryKey:!0,references:{model:"Subjects",key:"id"},onDelete:"CASCADE",onUpdate:"CASCADE"}},departments:{id:{type:"UUID",allowNull:!1,primaryKey:!0},name:{type:"STRING",allowNull:!1},subjectId:{type:"UUID",allowNull:!1,references:{model:"Subjects",key:"id"},onDelete:"CASCADE",onUpdate:"CASCADE"}},textbooks:{id:{type:"UUID",allowNull:!1,primaryKey:!0},title:{type:"STRING",allowNull:!1},departmentId:{type:"UUID",allowNull:!1,references:{model:"Departments",key:"id"},onDelete:"CASCADE",onUpdate:"CASCADE"}},topics:{id:{type:"UUID",allowNull:!1,primaryKey:!0},description:{type:"TEXT",allowNull:!1},textbookId:{type:"UUID",allowNull:!1,references:{model:"Textbooks",key:"id"},onDelete:"CASCADE",onUpdate:"CASCADE"}},additionalMaterials:{id:{type:"UUID",allowNull:!1,primaryKey:!0},name:{type:"STRING",allowNull:!1},topicId:{type:"UUID",allowNull:!1,references:{model:"Topics",key:"id"},onDelete:"CASCADE",onUpdate:"CASCADE"}},lessonStrategies:{id:{type:"UUID",allowNull:!1,primaryKey:!0},title:{type:"STRING",allowNull:!1},content:{type:"TEXT",allowNull:!1},subjectId:{type:"UUID",allowNull:!1,references:{model:"Subjects",key:"id"},onDelete:"CASCADE",onUpdate:"CASCADE"}},pools:{id:{type:"UUID",allowNull:!1,primaryKey:!0},title:{type:"STRING",allowNull:!1},content:{type:"TEXT",allowNull:!1},subjectId:{type:"UUID",allowNull:!1,references:{model:"Subjects",key:"id"},onDelete:"CASCADE",onUpdate:"CASCADE"}}},ke={users:"user",workspaces:"workspace",documents:"document",categories:"category",documentCategories:"documentCategory",files:"file",documentFiles:"documentFile",subjects:"subject",schools:"school",courseLevels:"courseLevel",courseLevelSubjects:"courseLevelSubject",departments:"department",textbooks:"textbook",topics:"topic",additionalMaterials:"additionalMaterial",lessonStrategies:"lessonStrategy",pools:"pool"},je={"base-100":"bg-base-100","base-200":"bg-base-200","base-300":"bg-base-300",primary:"bg-primary",secondary:"bg-secondary",pointPrimaryLightRight:"bg-[radial-gradient(50%_70%_at_90%_100%,oklch(var(--p)/0.2)_0%,oklch(var(--p)/0.2)_10%,oklch(var(--b2)/0.7)_100%)]",outerLights:"bg-[radial-gradient(60%_40%_at_40%_0%,oklch(var(--s)/0.1)_0%,oklch(var(--s)/0.1)_5%,oklch(var(--b1)/0.1)_100%)]"},ve={type:"array",title:"Available actions",items:{type:"object",properties:{action:{label:"Akcja oraz scope",type:"string",enum:["","AlertAction","InsertAction","UpdateAction","DeleteAction","SignInAction","FetchItemAction","FetchItemsAction","FilterScopeByIdAction"],default:"",title:"Action"},scope:{type:"string",title:"Scope",default:""}},allOf:[{if:{properties:{action:{enum:["InsertAction","UpdateAction","DeleteAction","FetchItemAction","SignInAction"]}},required:["action"]},then:{properties:{scope:{enum:["",...ke?Object.values(ke):[]]}}},else:{properties:{scope:{enum:["",...ke?Object.keys(ke):[]]}}}}]}},Se={id:"query",filename:"ActionBlock",jsonSchema:{title:"Initial actions block",description:"Schemat definiujący blok akcji, które będą wykonywane sekwencyjnie.",properties:{actions:{label:"Akcje (lista)",...ve,description:"Lista akcji do wykonania. Każda akcja zawiera zakres (scope) oraz identyfikator akcji (action)."},reloadOnParamsChange:{type:"boolean",default:!1,description:"Określa, czy blok akcji ma się przeładować, gdy zmienią się parametry URL."}},required:["actions"]},icon:n,group:"data",data:{}},Ne=Object.freeze(Object.defineProperty({__proto__:null,ActionBlockSchema:Se,default:Se},Symbol.toStringTag,{value:"Module"})),_e={id:"FancyImagesSchema",filename:"FancyImages",jsonSchema:{title:"Fancy Images",description:"Schemat definiujący blok akcji, które będą wykonywane sekwencyjnie.",properties:{actions:{label:"Akcje (lista)",...ve,description:"Lista akcji do wykonania. Każda akcja zawiera zakres (scope) oraz identyfikator akcji (action)."},reloadOnParamsChange:{type:"boolean",default:!1,description:"Określa, czy blok akcji ma się przeładować, gdy zmienią się parametry URL."}},required:["actions"]},icon:n,group:"data",data:{}},we=Object.freeze(Object.defineProperty({__proto__:null,FancyImagesSchema:_e,default:_e},Symbol.toStringTag,{value:"Module"})),Ae={id:"279e0f10-79ce-427a-91a2-81b2e54fb38a",filename:"HeadingText",jsonSchema:{title:"Heading text block",description:"Schemat definiujący blok nagłówka tekstowego, który wyświetla tytuł z opcjonalnymi klasami CSS.",properties:{text:{type:"string",label:"Header Text",description:"Tekst, który będzie wyświetlany jako nagłówek."},variant:{type:"string",label:"Text Variant",enum:["","hero","leed","info"]},className:{type:"string",label:"CSS Class",description:"Opcjonalna klasa CSS do zastosowania dla elementu nagłówka w celu dostosowania stylów. [py-md text-4xl pb-md text-center font-bold]"}},required:["text"]},icon:r,group:"content",data:{text:"Default Header",className:""}},De=Object.freeze(Object.defineProperty({__proto__:null,HeadingTextSchema:Ae,default:Ae},Symbol.toStringTag,{value:"Module"})),Ce={id:"d1e9bb07-0b85-4860-bf19-0ec647c6f8b7",filename:"Image",jsonSchema:{title:"Image Block",properties:{url:{type:"string",label:"Image URL"},className:{type:"string",label:"CSS Class"}}},icon:c,group:"content",data:{url:"https://via.placeholder.com/150",className:"image-class"}},Ie=Object.freeze(Object.defineProperty({__proto__:null,ImageSchema:Ce,default:Ce},Symbol.toStringTag,{value:"Module"})),Ee={id:"xad8f7d6-2302-4772-ac5f-8a792b000c8d",filename:"InfoColumns",jsonSchema:{title:"Info Columns",properties:{text:{type:"string",label:"Header Text"},className:{type:"string",label:"CSS Class"}}},icon:i,group:"collection",data:{text:"Default Header",className:"header-class"},preview:'<div class=\'flex justify-between p-sm items-stretch gap-xs\'>\n    <div class="flex flex-1 gap-px">\n      <div class="w-3 h-3 bg-neutral"></div>\n      <div class="flex-1 flex flex-col gap-xs">\n        <div class="h-1.5 bg-neutral"></div>\n        <div class="h-1.5 bg-neutral"></div>\n        <div class="h-1.5 bg-neutral"></div>\n        <div class="h-1.5 bg-neutral"></div>\n      </div>\n    </div>\n    <div class="flex flex-1 gap-px">\n      <div class="w-3 h-3 bg-neutral"></div>\n      <div class="flex-1 flex flex-col gap-xs">\n        <div class="h-1.5 bg-neutral"></div>\n        <div class="h-1.5 bg-neutral"></div>\n        <div class="h-1.5 bg-neutral"></div>\n        <div class="h-1.5 bg-neutral"></div>\n      </div>\n    </div>\n  </div>'},Te=Object.freeze(Object.defineProperty({__proto__:null,InfoColumnsSchema:Ee,default:Ee},Symbol.toStringTag,{value:"Module"})),Le={id:"8d6a0d21-e548-4f0c-bb8a-4ae456479b68",filename:"InputBlock",jsonSchema:{title:"Input Block",properties:{label:{type:"string",label:"Input Label"},fieldName:{type:"string",label:"Field name",description:"Input Field Name as target path"},autocomplete:{type:"string",label:"Autocomplete"},forcedDefaultValue:{type:"string",label:"Forced default"},className:{type:"string",label:"CSS Class"},readonly:{type:"boolean",label:"Readonly"}}},icon:d,group:"data",data:{label:"Input Label",fieldName:"inputField",className:"input-class"}},Pe=Object.freeze(Object.defineProperty({__proto__:null,InputBlockSchema:Le,default:Le},Symbol.toStringTag,{value:"Module"})),Oe={filename:"Leed",jsonSchema:{title:"Leed Block",type:"object",properties:{title:{type:"string",label:"Header text"},text:{type:"string",label:"Paragraph text"},className:{type:"string",label:"CSS Class"},background:{type:"string",label:"Background",enum:["","base-100","base-200","base-300","primary","secondary","outerLights"]}},required:["title","text"]},icon:p,group:"content",data:{title:"Default Header",text:"Default paragraph text",className:"header-class",background:""}},Ue=Object.freeze(Object.defineProperty({__proto__:null,LeedSchema:Oe,default:Oe},Symbol.toStringTag,{value:"Module"})),Be={id:"bc0d1b89-f8b0-48b9-8978-1f7ed1c5e5c9",filename:"Link",jsonSchema:{title:"Link Block",properties:{name:{type:"string",label:"Link Text"},to:{type:"string",label:"Link URL"},className:{type:"string",label:"CSS Class"},size:{type:"string",label:"Size",enum:["","btn-xs","btn-sm","btn-md","btn-lg","btn-xl"]},variant:{type:"string",label:"Variant",enum:["","btn-neutral","btn-primary","btn-secondary","btn-accent","btn-ghost","btn-link","btn-hairline"]},outline:{type:"boolean",label:"Is outline"},wide:{type:"boolean",label:"Is wide"}}},icon:m,group:"content",data:{name:"Link",to:"/",className:"link-class"}},Fe=Object.freeze(Object.defineProperty({__proto__:null,LinkSchema:Be,default:Be},Symbol.toStringTag,{value:"Module"})),Re={id:"b8a6f7a8-7f84-4cbe-b8e6-245a72b9cfa6",filename:"ListBlock",jsonSchema:{title:"List Block",properties:{path:{type:"string",label:"Scope"},repeater:{type:"array",label:"Repeater Fields",items:{type:"object",properties:{label:{type:"string",label:"Label for Data Field"},key:{type:"string",label:"Key for Data Field"}}}},className:{type:"string",label:"CSS Class"}}},icon:u,group:"collection",data:{path:"data.items",repeater:[{label:"Name",key:"name"},{label:"Description",key:"description"}],className:"list-component-class"},preview:'<div class=\'flex flex-col justify-between p-sm items-stretch gap-xs\'>\n    \n        <div class="p-0.5 border border-neutral flex gap-xs">\n         <div class="h-2 bg-neutral w-1/4"></div>\n         <div class="h-2 bg-neutral w-1/4"></div>\n         <div class="h-2 bg-neutral flex-1"></div>\n        </div>\n        <div class="p-0.5 border border-neutral flex gap-xs">\n         <div class="h-2 bg-neutral w-1/4"></div>\n         <div class="h-2 bg-neutral w-1/4"></div>\n         <div class="h-2 bg-neutral flex-1"></div>\n        </div>\n         <div class="p-0.5 border border-neutral flex gap-xs">\n         <div class="h-2 bg-neutral w-1/4"></div>\n         <div class="h-2 bg-neutral w-1/4"></div>\n         <div class="h-2 bg-neutral flex-1"></div>\n        </div>\n        \n        \n    \n  </div>'},Me=Object.freeze(Object.defineProperty({__proto__:null,ListBlockSchema:Re,default:Re},Symbol.toStringTag,{value:"Module"})),$e={id:"b8a6f7a8-7f84-4cbe-b8e6-245a72b9cfa6",filename:"ListTableBlock",jsonSchema:{title:"ListTable",properties:{path:{type:"string",label:"Scope"},repeater:{type:"array",label:"Repeater Fields",items:{type:"object",properties:{label:{type:"string",label:"Label for Data Field"},key:{type:"string",label:"Key for Data Field"}}}},url:{type:"string",label:"Row url"},actions:{type:"array",label:"Actions",items:{type:"object",properties:{icon:{type:"string",label:"Icon name",enum:["","trash","edit","file"]},url:{type:"string",label:"Action url"}}}},className:{type:"string",label:"CSS Class"}}},icon:b,group:"collection",data:{path:"data.items",repeater:[{label:"Name",key:"name"},{label:"Description",key:"description"}],className:"list-component-class"},preview:'\n  <div class=\'flex p-sm items-stretch gap-px\'>\n    <div class="flex-1 gap-px flex flex-col">\n        <div class="h-1.5 bg-neutral"></div>\n        <div class="h-1.5 bg-neutral"></div>\n        <div class="h-1.5 bg-neutral"></div>\n        <div class="h-1.5 bg-neutral"></div>\n        <div class="h-1.5 bg-neutral"></div>\n        <div class="h-1.5 bg-neutral"></div>\n    </div>\n    <div class="flex-1 gap-px flex flex-col">\n        <div class="h-1.5 bg-neutral"></div>\n        <div class="h-1.5 bg-neutral"></div>\n        <div class="h-1.5 bg-neutral"></div>\n        <div class="h-1.5 bg-neutral"></div>\n        <div class="h-1.5 bg-neutral"></div>\n        <div class="h-1.5 bg-neutral"></div>\n    </div>\n    <div class="flex-1 gap-px flex flex-col">\n        <div class="h-1.5 bg-neutral"></div>\n        <div class="h-1.5 bg-neutral"></div>\n        <div class="h-1.5 bg-neutral"></div>\n        <div class="h-1.5 bg-neutral"></div>\n        <div class="h-1.5 bg-neutral"></div>\n        <div class="h-1.5 bg-neutral"></div>\n    </div>\n  </div>\n  '},ze=Object.freeze(Object.defineProperty({__proto__:null,ListTableBlockSchema:$e,default:$e},Symbol.toStringTag,{value:"Module"})),Ve={id:"9c8fd44a-b4d2-4b6d-a9ab-d8ac6d52d44c",filename:"Logo",jsonSchema:{title:"Logo Block",properties:{className:{type:"string",label:"CSS Class"}}},icon:h,group:"content",data:{className:"logo-class"}},qe=Object.freeze(Object.defineProperty({__proto__:null,LogoSchema:Ve,default:Ve},Symbol.toStringTag,{value:"Module"})),Ke={id:"3b6883c2-4cd2-40f0-8bb9-63223362bf9e",filename:"Paragraph",jsonSchema:{title:"Paragraph Block",properties:{text:{type:"string",label:"Paragraph Text"},className:{type:"string",label:"CSS Class"}}},icon:g,group:"content",data:{text:"Default paragraph text.",className:"paragraph-class"}},He=Object.freeze(Object.defineProperty({__proto__:null,ParagraphSchema:Ke,default:Ke},Symbol.toStringTag,{value:"Module"})),We={id:"unique-select-block-id",filename:"SelectBlock",jsonSchema:{title:"Select Block",properties:{label:{type:"string",label:"Select Label"},fieldName:{type:"string",label:"Field Name"},options:{type:"array",label:"Options",items:{type:"object",properties:{name:{type:"string",label:"Option Label"},id:{type:"string",label:"Option Value"}}}},scope:{type:"string",label:"Scope"},className:{type:"string",label:"CSS Class"}}},icon:y,group:"data",data:{label:"Select an Option",fieldName:"selectField",options:[{label:"Option 1",value:"option1"},{label:"Option 2",value:"option2"},{label:"Option 3",value:"option3"}],className:"select-class"}},Ge=Object.freeze(Object.defineProperty({__proto__:null,SelectBlockSchema:We,default:We},Symbol.toStringTag,{value:"Module"})),Je={id:"6744c21b-5194-4a58-833a-341d8b0ab31f",filename:"SubmitForm",jsonSchema:{title:"Submit Form",properties:{actions:{label:"Akcje (lista)",...ve,description:"Lista akcji do wykonania. Każda akcja zawiera zakres (scope) oraz identyfikator akcji (action)."},successRedirect:{type:"string",label:"Success redirect",description:"Adres URL, do ktości ma być przekierowany użytkownik po wykonaniu akcji."},className:{type:"string",label:"CSS Class"},reloadOnParamsChange:{type:"boolean",default:!1,description:"Określa, czy blok akcji ma się przeładować, gdy zmienią się parametry URL."}},required:["actions"]},icon:f,group:"data",data:{className:"submit-button-class"}},Qe=Object.freeze(Object.defineProperty({__proto__:null,SubmitFormSchema:Je,default:Je},Symbol.toStringTag,{value:"Module"})),Xe={id:"xad8f7ds-2302-4772-ac5f-8a792b000c8d",filename:"WorkspacesHero",jsonSchema:{title:"Workspaces Hero",properties:{text:{type:"string",label:"Header Text"},className:{type:"string",label:"CSS Class"}}},icon:x,group:"content",data:{text:"Default Header",className:"header-class"}},Ze=Object.freeze(Object.defineProperty({__proto__:null,WorkspacesHeroSchema:Xe,default:Xe},Symbol.toStringTag,{value:"Module"})),Ye=()=>null,et=e=>{const{schema:a,id:s,options:l,value:o,type:n,placeholder:r,required:c,disabled:i,readonly:d,autofocus:p,formContext:m,hideError:u,hideLabel:b,uiSchema:h,rawErrors:g,onChange:y,onChangeOverride:f,...x}=e,j={...x,...k(a,n,l)};return t.jsx("div",{className:"p-xs",children:t.jsx("input",{id:s,className:"w-full input input-bordered",autoFocus:p,value:o,onChange:f||(({target:{value:e}})=>{y(""===e?l.emptyValue||"":e)}),type:n,placeholder:r,disabled:i,readOnly:d,required:c,...j})})},tt=e=>{const{id:a,options:s,value:l,required:o,disabled:n,readonly:r,autofocus:c,placeholder:i,onChange:d,onBlur:p,onFocus:m,rawErrors:u=[]}=e;return t.jsxs("div",{className:"my-select-wrapper p-xs",children:[t.jsxs("select",{id:a,className:"select select-bordered w-full",value:l||"",required:o,disabled:n||r,autoFocus:c,onChange:e=>{const{value:t}=e.target;d(""===t?s.emptyValue:t)},onBlur:p&&(e=>p(a,e.target.value)),onFocus:m&&(e=>m(a,e.target.value)),children:[i&&t.jsx("option",{value:"",children:i}),(s.enumOptions||[]).map((({value:e,label:a},s)=>t.jsx("option",{value:e,children:a},s)))]}),u.length>0&&t.jsx("div",{className:"text-red-600 text-sm mt-2",children:u.join(", ")})]})};function at(e){const{canAdd:a,items:s,onAddClick:l}=e;return t.jsxs("div",{className:"",children:[s.map(((e,a)=>t.jsxs("div",{className:"mt-sm",children:[t.jsxs("div",{className:"flex justify-end gap-1 mb-xs px-sm",children:[e.hasMoveUp&&t.jsx("button",{type:"button","aria-label":"Move up",className:"btn btn-xs btn-outline",onClick:e.onReorderClick(e.index,e.index-1),children:"Move Up"}),e.hasMoveDown&&t.jsx("button",{"aria-label":"Move Down",type:"button",className:"btn btn-xs btn-outline",onClick:e.onReorderClick(e.index,e.index+1),children:"Move Down"}),e.hasRemove&&t.jsx("button",{"aria-label":"Remove",type:"button",className:"btn btn-xs btn-danger",onClick:e.onDropIndexClick(e.index),children:"Remove"})]}),t.jsx("div",{className:"border-l-8 border-base-content border-opacity-70 -mt-lg",children:e.children})]},a))),a&&t.jsx("div",{className:"px-sm pb-xs",children:t.jsx("button",{"aria-label":"Add item",type:"button",className:"btn btn-primary btn-sm w-full no-animation",onClick:l,children:"Add Item"})})]})}function st(e){const{children:a,className:s}=e;return t.jsxs("div",{className:s,children:["#####",a,"####"]})}function lt(e){const{description:a,id:s}=e,l=s.split("_");return a&&t.jsx("div",{id:s,className:"text-xs p-sm pt-0  "+(l[1]?"bg-base-200":"border border-neutral p-xl m-xs bg-neutral-content"),children:a})}function ot(e){const{id:a,help:s,required:l,description:o,errors:n,children:r,schema:c}=e,i=2===a.split("_").length;return t.jsxs("div",{className:`border-base-300 ${i&&"border-b"}`,children:[c.label&&c.type&&t.jsxs("label",{htmlFor:a,className:"block form-label text-sm font-normal text-opacity-70 "+(i?"bg-base-200 p-sm":"px-sm pt-sm"),children:[c.label,l&&t.jsx("span",{className:"text-danger",children:"*"})]}),c.description&&c.type&&t.jsx("div",{className:"px-xs",children:o}),t.jsx(t.Fragment,{children:r}),n&&t.jsx("div",{className:"form-errors text-danger",children:n}),s&&t.jsx("div",{className:"form-help text-muted",children:s})]})}const nt=e=>{const{id:a,value:s,required:l,disabled:o,readonly:n,autofocus:r,onChange:c,onBlur:i,onFocus:d,label:p,rawErrors:m=[]}=e;return t.jsxs("div",{className:"relative flex items-center px-sm py-xs",children:[t.jsx("input",{type:"checkbox",id:a,className:"h-4 w-4 text-primary focus:ring-primary border-gray-300 rounded",checked:!!s,required:l,disabled:o||n,autoFocus:r,onChange:e=>{const{checked:t}=e.target;c(t)},onBlur:i&&(e=>i(a,e.target.checked)),onFocus:d&&(e=>d(a,e.target.checked))}),p&&t.jsxs("label",{htmlFor:a,className:"ml-2 block text-sm text-gray-700",children:[p,l&&t.jsx("span",{className:"text-danger",children:"*"})]}),m.length>0&&t.jsx("div",{className:"text-red-600 text-sm mt-1",children:m.join(", ")})]})},rt=({label:e,fieldName:a,className:l,options:o=[],scope:n=""})=>{const r=fe((e=>e.updateField)),c=fe(s.useCallback((e=>ye(n)(e.pageData)),[n]))||[],i=fe((e=>e.getFieldValue(a)))||"";return t.jsxs("div",{className:`${l} container mx-auto `,children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 pb-xs",children:e}),t.jsx("select",{className:"select select-bordered w-full mb-2",value:i,onChange:e=>{r(a,e.target.value)},children:[...c,...o].map((e=>t.jsx("option",{value:e?.id,children:e?.name||e?.title},e?.id)))})]})},ct=Object.freeze(Object.defineProperty({__proto__:null,SelectBlock:rt,default:rt},Symbol.toStringTag,{value:"Module"})),it=({label:e})=>{fe((e=>({layout:e.pageData.layout})));const a=Object.keys(he).map((e=>({name:e.charAt(0).toUpperCase()+e.slice(1),id:e})));return t.jsx("div",{className:"p-md border-b border-base-content border-opacity-30",children:t.jsx(rt,{label:e,fieldName:"layout",options:a})})},dt=Object.assign({"../actions/AlertAction.tsx":()=>be((()=>import("./AlertAction-BuDP2N4c.js")),__vite__mapDeps([4,1,5])),"../actions/DeleteAction.tsx":()=>be((()=>import("./DeleteAction-CrhDCq9G.js")),__vite__mapDeps([6,1,5])),"../actions/FetchItemAction.tsx":()=>be((()=>import("./FetchItemAction-s18pPqRm.js")),__vite__mapDeps([7,1,5])),"../actions/FetchItemsAction.tsx":()=>be((()=>import("./FetchItemsAction-Cvqymhvk.js")),__vite__mapDeps([8,1,5])),"../actions/FilterScopeByIdAction.tsx":()=>be((()=>import("./FilterScopeByIdAction-NdZ8xv1u.js")),__vite__mapDeps([9,1,5])),"../actions/InsertAction.tsx":()=>be((()=>import("./InsertAction-BmiK-7oZ.js")),__vite__mapDeps([10,1,5,11])),"../actions/SignInAction.tsx":()=>be((()=>import("./SignInAction-CAw9LgmP.js")),__vite__mapDeps([12,1,5,11])),"../actions/UpdateAction.tsx":()=>be((()=>import("./UpdateAction-Cmt8S3kX.js")),__vite__mapDeps([13,1,5]))}),pt=new Map,mt=async(e,t,a)=>{if(!e)return a("Action parameter is undefined"),void t(null);const s=pt.get(e);if(s)return void t((()=>s));const l=`../actions/${e}.tsx`,o=dt[l];if(!o){return a(`Action file: ${l} not found`),void t(null)}try{const a=await o(),s=a.default?a.default:(await a()).default;if(!s)throw new Error(`Component not found for action: ${e}`);pt.set(e,s),t((()=>s))}catch(n){a(`Error loading action: ${n instanceof Error?n.message:"Unknown error occurred"}`),t(null)}},ut=e=>e in ke?e:bt(e),bt=e=>Object.keys(ke).find((t=>ke[t]===e)),ht=(e,t)=>` ${e?.msg?e.msg:"error"} for scope: ${t}. ${e?.error?e.error:""}`,gt=(e,t)=>{for(const a in t)t[a]&&"object"==typeof t[a]&&!Array.isArray(t[a])?(e[a]&&"object"==typeof e[a]||(e[a]={}),gt(e[a],t[a])):e[a]=t[a];return e},yt=l(((e,t)=>({user:{},filters:{},mainMessage:{message:"",type:"info"},globalScope:()=>{const{user:e,mainMessage:a,filters:s}=t();return{user:e||{},mainMessage:a||{},filters:s||{}}},setUser:t=>e({user:t}),setFilters:a=>{const s=(e=>{const t={};for(const a in e){const s=a.split(".");s.reduce(((t,l,o)=>(o===s.length-1?t[l]=e[a]:t[l]&&"object"==typeof t[l]||(t[l]={}),t[l])),t)}return t})(a),l=t().filters,o=gt({...l},s);e({filters:o})},setMainMessage:(t,a)=>e({mainMessage:{message:t,type:a}})}))),ft=()=>{const e=j(),t=v(),[a,l]=S(),o=e=>{const t=new URLSearchParams(a);e(t),l(t,{replace:!0})},n=e=>a.get(e),r=(e,t)=>{o((a=>{a.set(e,t)}))},c=e=>{const t=new URLSearchParams(e);o((e=>{t.forEach(((t,a)=>{e.set(a,t)}))}))},i=e=>{o((t=>{t.delete(e)}))},d=t=>{e(t)},p=()=>{const e={};return a.forEach(((t,a)=>{e[a]=t})),{...e,_router_workspace:t.workspace||"",_router_slug:t.slug||""}};return s.useMemo((()=>({getUSParam:n,setUSParam:r,upSParams:c,removeUSParam:i,navigateTo:d,getAll:p})),[a,e])},xt=(e,t)=>e.replace(/{([^}]+)}/g,((e,a)=>{const s=ye(a)(t);return s?.toString()??`{${a}}`})),kt=()=>{const{isEditing:e,selectedSlot:t,selectedBlock:a,copiedBlocks:l,setCopiedBlocks:o,addBlockToSlot:n,removeBlock:r,deselectBlock:c,moveBlock:i}=me(),d=j(),{workspace:p,slug:m,action:u}=v(),b=()=>{const e=document.activeElement;return e instanceof HTMLInputElement||e instanceof HTMLTextAreaElement||e instanceof HTMLElement&&e.isContentEditable},h=s.useCallback((()=>{if(!p||!m)return;d(`/${p}/${m}${"edit-document"===u?"":"/edit-document"}`)}),[d,p,m,u]),g=s.useCallback((()=>{const e=new URLSearchParams(window.location.search);e.set("rightbar","workspaces"),d({pathname:window.location.pathname,search:`?${e.toString()}`},{replace:!0})}),[d]),y=s.useCallback((()=>{a&&o([a])}),[a,o,l]),f=s.useCallback((()=>{t&&l.length>0&&l.forEach((e=>{const a={...e,id:N()};n(t,a)}))}),[t,l,n]),x=s.useCallback((()=>{a&&t&&(r(a.id,t),c())}),[a,t,r,c]),k=s.useCallback((e=>{a&&t&&i(a.id,t,e)}),[a,t,i]),S=s.useCallback((()=>{alert("Q")}),[]),_=s.useCallback((t=>{if(e)switch(t.key){case"Tab":t.preventDefault(),h();break;case"e":case"E":t.ctrlKey&&(t.preventDefault(),g());break;case"c":case"C":t.ctrlKey&&!b()&&(t.preventDefault(),y());break;case"v":case"V":t.ctrlKey&&!b()&&(t.preventDefault(),f());break;case"q":case"Q":t.ctrlKey&&(t.preventDefault(),S());break;case"Delete":t.preventDefault(),x();break;case"ArrowUp":t.preventDefault(),k("up");break;case"ArrowDown":t.preventDefault(),k("down")}}),[e,h,g,y,f,S,x,k]);return s.useEffect((()=>(document.addEventListener("keydown",_),()=>{document.removeEventListener("keydown",_)})),[_]),null},jt=()=>{const e=(()=>{const e="auth_token=",t=decodeURIComponent(document.cookie).split(";");for(const a of t){const t=a.trim();if(t.startsWith(e))return t.substring(11)}return null})();return{"Content-Type":"application/json",...e&&{Authorization:`Bearer ${e}`}}},vt=async(e,t)=>{if(!e.ok){throw{...await e.json(),msg:t}}return e.json()},St=async(e,t)=>{const a=`http://localhost:3004/${e}?${_.stringify(t[e])}`,s=await fetch(a);return vt(s,`Failed to fetch ${e}`)},Nt=async(e,t)=>{const a=`http://localhost:3004/${e}/${t}`,s=await fetch(a);return vt(s,`Failed to fetch document with slug: ${t}`)},_t=async(e,t)=>{const a=`http://localhost:3004/${e}/slug/${t}`,s=await fetch(a);return vt(s,`Failed to fetch document with slug: ${t}`)},wt=async(e,t)=>{const a=await fetch(`http://localhost:3004/${e}`,{method:"POST",headers:jt(),body:JSON.stringify(t)});return vt(a,`Failed to create ${e}`)},At=async(e,t,a)=>{const s=await fetch(`http://localhost:3004/${e}/${t}`,{method:"PUT",headers:jt(),body:JSON.stringify(a)});return vt(s,`Failed to update ${e}`)},Dt=async(e,t)=>{const a=await fetch(`http://localhost:3004/${e}/${t}`,{method:"DELETE",headers:jt()});return vt(a,`Failed to delete ${e}`)},Ct=({model:e,setSelectedItem:t,setErrorMessage:a})=>{const s=w(),l=()=>{s.invalidateQueries({queryKey:[e]}),t(null),a(null)},o=e=>{e instanceof Error?a(e.message):a("An unexpected error occurred.")},n=A({mutationFn:t=>wt(e||"",t),onSuccess:l,onError:o}),r=A({mutationFn:({id:t,item:a})=>At(e||"",t,a),onSuccess:l,onError:o}),c=A({mutationFn:({model:e,slug:t,slot:a,content:s})=>(async(e,t,a,s)=>{const l=`http://localhost:3004/${e}/slug/${t}/content`,o=await fetch(l,{method:"PUT",headers:jt(),body:JSON.stringify({key:a,value:s})});return vt(o,`Failed to update ${e} with slug: ${t}`)})(e,t,a,s),onSuccess:l,onError:o});return{createMutation:n,updateMutation:r,deleteMutation:A({mutationFn:t=>Dt(e||"",t),onSuccess:l,onError:o}),updateContentMutation:c}},It=()=>{const{getUSParam:e}=ft(),{layout:a}=fe((e=>({layout:e.pageData.layout}))),{selectedSlot:l,slots:o}=me((e=>({selectedSlot:e.selectedSlot,slots:e.slots}))),{workspace:n,slug:r}=v(),[c,i]=s.useState(null),{updateContentMutation:d}=Ct({model:"content",setSelectedItem:()=>{},setErrorMessage:i}),p=yt((e=>e.setMainMessage)),m=e("rightbar");return t.jsxs("div",{className:"p-md border-t border-base-300",children:[m?t.jsx("div",{className:"text-center",children:"SLOT"}):t.jsxs(t.Fragment,{children:[t.jsx("span",{className:"font-semibold",children:"Selected Slot: "}),t.jsx("span",{children:l||"No slot selected"})]}),c&&t.jsx("div",{className:"bg-error"}),l&&t.jsxs("button",{"aria-label":"Save",onClick:()=>{if(l){const e=he[a].parentSlots.includes(l),t=e?n:r;if(!t)return i("Slug is undefined. Cannot save content."),void p("Slug is undefined. Cannot save content.","error");d.mutate({model:e?"workspace":"document",slug:t,slot:l,content:o[l]},{onSuccess:()=>{p("Content saved successfully!","success")},onError:e=>{p(ht(e,l),"error")}})}else p("No slot selected to save.","error")},className:"btn btn-md btn-outline w-full no-animation font-light mt-sm",children:[t.jsx(C,{})," ",!m&&t.jsx("span",{children:"Save selected slot data"})]})]})},Et=Object.assign({"../../blocks/ActionBlockSchema.ts":()=>be((()=>Promise.resolve().then((()=>Ne))),void 0),"../../blocks/FancyImagesSchema.ts":()=>be((()=>Promise.resolve().then((()=>we))),void 0),"../../blocks/HeadingTextSchema.ts":()=>be((()=>Promise.resolve().then((()=>De))),void 0),"../../blocks/ImageSchema.ts":()=>be((()=>Promise.resolve().then((()=>Ie))),void 0),"../../blocks/InfoColumnsSchema.ts":()=>be((()=>Promise.resolve().then((()=>Te))),void 0),"../../blocks/InputBlockSchema.ts":()=>be((()=>Promise.resolve().then((()=>Pe))),void 0),"../../blocks/LeedSchema.ts":()=>be((()=>Promise.resolve().then((()=>Ue))),void 0),"../../blocks/LinkSchema.ts":()=>be((()=>Promise.resolve().then((()=>Fe))),void 0),"../../blocks/ListBlockSchema.ts":()=>be((()=>Promise.resolve().then((()=>Me))),void 0),"../../blocks/ListTableBlockSchema.ts":()=>be((()=>Promise.resolve().then((()=>ze))),void 0),"../../blocks/LogoSchema copy.ts":()=>be((()=>import("./LogoSchema copy-BzsnYfuT.js")),__vite__mapDeps([14,1])),"../../blocks/LogoSchema.ts":()=>be((()=>Promise.resolve().then((()=>qe))),void 0),"../../blocks/ParagraphSchema.ts":()=>be((()=>Promise.resolve().then((()=>He))),void 0),"../../blocks/SelectBlockSchema.ts":()=>be((()=>Promise.resolve().then((()=>Ge))),void 0),"../../blocks/SubmitFormSchema.ts":()=>be((()=>Promise.resolve().then((()=>Qe))),void 0),"../../blocks/WorkspacesHeroSchema.ts":()=>be((()=>Promise.resolve().then((()=>Ze))),void 0)}),Tt=()=>{const{selectedSlot:e,addBlockToSlot:a,setSelectedBlock:l,slots:n,selectedBlock:r}=me((e=>({selectedSlot:e.selectedSlot,addBlockToSlot:e.addBlockToSlot,setSelectedBlock:e.setSelectedBlock,slots:e.slots,selectedBlock:e.selectedBlock}))),[c,i]=s.useState("content"),[d,p]=s.useState({}),{getUSParam:m}=ft(),u=m("rightbar");s.useEffect((()=>{(async()=>{const e={};for(const a in Et){const s=(await Et[a]()).default;s.icon=s.icon||t.jsx(t.Fragment,{});const l=s.group||"others";e[l]||(e[l]=[]),e[l].push(s)}p(e)})()}),[]);const b=(()=>{if(!r)return null;for(const[e,t]of Object.entries(d))if(t.some((e=>e.filename===r.filename)))return e;return null})();return t.jsxs("div",{className:(u?"w-20":"w-80")+" bg-base-200 h-full flex flex-col border-r border-base-300",children:[t.jsxs("div",{className:`flex items-center gap-sm p-sm ${u?"justify-center":""} border-b border-base-content border-opacity-20`,children:[t.jsx(I,{strokeWidth:.5,className:"w-8 h-8"}),!u&&t.jsx(E,{to:"/",children:t.jsx("h1",{className:"text-xl font-black text-accent m-0.5",children:"BlockBox EDITOR"})})]}),!u&&t.jsx(it,{label:"Choose layout:"}),!u&&t.jsx("div",{className:"border-b border-base-content border-opacity-20",children:t.jsx("label",{className:"block p-md",children:"Choose block:"})}),t.jsx("div",{className:"tabs tabs-bordered bg-base-300",children:Object.keys(d).map((e=>{const a=c===e;let s="tab";return a?s+=" tab-active bg-base-100":e===b&&!a&&(s+=" tab-selected-block-group bg-neutral-content bg-opacity-50"),u&&(s+=" px-px"),t.jsx("button",{"aria-label":"Tab",className:s,onClick:()=>i(e),children:u?e.charAt(0):e.charAt(0).toUpperCase()+e.slice(1)},e)}))}),t.jsx("div",{className:"border-b border-base-content border-opacity-20",children:t.jsx("div",{className:"grid gap-px  "+(u?"grid-cols-1":"grid-cols-2"),children:d[c]?.map(((s,n)=>{const i=r?.filename===s.filename;return t.jsxs("button",{"aria-label":"Add Block",className:`${u?"min-h-12":"min-h-24"}  flex flex-col items-stretch justify-stretch ${i?"bg-neutral-content bg-opacity-50":""}`,onClick:()=>(t=>{if(!e)return void alert("Please select a slot first.");const s=d[c]?.find((e=>e.filename===t));if(!s)return;const o={id:N(),filename:t,data:s.data||{}};a(e,o),l(o)})(s.filename),children:[s.preview?t.jsx("div",{className:"flex-1 grid items-center",dangerouslySetInnerHTML:{__html:s.preview}}):t.jsx("div",{className:"text-lg flex flex-1 justify-center items-center",children:s.icon&&"function"==typeof s.icon&&o.createElement(s.icon)}),!u&&t.jsx("div",{className:"text-sm bg-base-300 text-content p-xs text-center",children:s.jsonSchema.title})]},n)}))})}),t.jsx("div",{className:"flex-1"}),t.jsx(It,{})]})},Lt=({callback:e,label:a})=>{const s=j();return t.jsxs("div",{className:"sticky top-0 flex bg-base-100 items-center justify-between border-b border-base-300 px-md py-sm",children:[t.jsx("button",{className:"btn btn-circle btn-outline btn-xs",onClick:()=>{e();const t=new URLSearchParams(window.location.search);t.delete("rightbar"),s({pathname:window.location.pathname,search:t.toString()})},"aria-label":"Zamknij",children:t.jsx(T,{})}),t.jsx("h3",{className:"text-2xl font-extrabold drop-shadow-sm text-accent",children:a})]})},Pt=({label:e,value:a,isRequired:l,isReadOnly:o=!1,onChange:n})=>{const[r,c]=s.useState(null),i=JSON.stringify(a,null,2);return t.jsxs("div",{className:"json-editor",children:[t.jsxs("label",{className:"block p-md",children:[e," ",l&&t.jsx("span",{children:"*"})]}),t.jsx(L,{height:"calc(100vh - 280px)",language:"json",value:i,onChange:e=>{if(!o&&void 0!==e)try{const t=JSON.parse(e);c(null),n(t)}catch(t){c("Niepoprawna składnia JSON")}},theme:"vs-dark",options:{readOnly:o,minimap:{enabled:!1},lineNumbers:"on"}}),r&&t.jsx("p",{className:"alert alert-error rounded-none",children:r})]})},Ot=()=>{const e=j(),a=P(),{workspace:s,slug:l,action:o}=v(),n=a.pathname.endsWith(`/${s}/${l}/`);return t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"tooltip tooltip-bottom tooltip-accent","data-tip":"[Tab] Preview",children:t.jsx("button",{"aria-label":"Tab",className:"btn btn-sm btn-square "+(n?"btn-active":""),onClick:()=>e(`/${s}/${l}/`),children:t.jsx(O,{})})}),t.jsx("div",{className:"tooltip tooltip-bottom tooltip-accent","data-tip":"[Tab] Document edit",children:t.jsx("button",{"aria-label":"Tab",className:"btn btn-sm btn-square "+("edit-document"===o?"btn-active":""),onClick:()=>e(`/${s}/${l}/edit-document/`),children:t.jsx(U,{})})}),t.jsx("button",{"aria-label":"Tab",className:"btn btn-sm btn-square "+("edit-side"===o?"btn-active":""),onClick:()=>e(`/${s}/${l}/edit-side/`),children:t.jsx(B,{})}),t.jsx("button",{"aria-label":"Tab",className:"btn btn-sm btn-square "+("edit-workspace"===o?"btn-active":""),onClick:()=>e(`/${s}/${l}/edit-workspace/`),children:t.jsx(F,{})}),t.jsx("button",{"aria-label":"Tab",className:"btn btn-sm btn-square "+("edit-modal"===o?"btn-active":""),onClick:()=>e(`/${s}/${l}/edit-modal/`),children:t.jsx(R,{})}),t.jsx("button",{"aria-label":"Tab",className:"btn btn-sm btn-square "+("edit-scope"===o?"btn-active":""),onClick:()=>e(`/${s}/${l}/edit-scope/`),children:t.jsx(M,{})})]})},Ut=()=>{const[e,a]=s.useState("initialScope"),[l,o]=s.useState({}),[n,r]=s.useState(null),c=fe((e=>e.initialScope)),i=fe((e=>e.pageData)),d=me((e=>e.slots)),p=yt((e=>e.globalScope)),m=yt((e=>e.setMainMessage)),u=me((e=>e.setSlots)),{workspace:b}=v(),{updateContentMutation:h}=Ct({model:"content",setSelectedItem:()=>{},setErrorMessage:r});let g=null,y=!1;"initialScope"===e?g=c:"actualScope"===e?(g=i,y=!0):"slotsPreview"===e?g=d:"globalScope"===e&&(g=p,y=!0),s.useEffect((()=>{o(g||{})}),[g]);return t.jsxs("div",{className:"w-full sticky top-16",children:[t.jsxs("div",{className:"tabs tabs-lifted border-b border-base-200 mt-sm",children:[t.jsx("button",{"aria-label":"Tab",className:"tab "+("initialScope"===e?"tab-active":""),onClick:()=>a("initialScope"),children:"Initial Scope"}),t.jsx("button",{"aria-label":"Tab",className:"tab "+("actualScope"===e?"tab-active":""),onClick:()=>a("actualScope"),children:"Actual Scope"}),t.jsx("button",{"aria-label":"Tab",className:"tab "+("slotsPreview"===e?"tab-active":""),onClick:()=>a("slotsPreview"),children:"Slots Preview"}),t.jsx("button",{"aria-label":"Tab",className:"tab "+("globalScope"===e?"tab-active":""),onClick:()=>a("globalScope"),children:"Global Scope"})]}),t.jsx(Pt,{id:"json-block-id",label:"initialScope"===e?"Page scope range":"actualScope"===e?"Actual page scope":"slotsPreview"===e?"Slots Preview":"Global Scope",value:l,isRequired:!0,isReadOnly:y,onChange:e=>{o(e)}}),n&&t.jsx("div",{className:"bg-error text-white p-2 my-2 rounded",children:n}),"initialScope"===e&&t.jsx("div",{className:"p-sm",children:t.jsxs("button",{onClick:()=>{const e=b;if(!e)return r("Workspace is undefined. Cannot save content."),void m("Workspace is undefined. Cannot save content.","error");h.mutate({model:"workspace",slug:e,slot:"_pageData",content:l},{onSuccess:()=>{m("Initial scope saved successfully!","success"),r(null)},onError:e=>{const t=e?.message||"An error occurred.";r(t),m(`Failed to save initial scope: ${t}`,"error")}})},className:"btn btn-success btn-outline w-full",children:[t.jsx(C,{})," Update initial scope"]})}),"slotsPreview"===e&&t.jsx("div",{className:"p-sm",children:t.jsxs("button",{onClick:()=>{try{if("object"!=typeof l||Array.isArray(l))throw new Error("Slots data must be an object.");u(l),m("Slots updated successfully!","success"),r(null)}catch(e){const t=e?.message||"An error occurred while updating slots.";r(t),m(`Failed to update slots: ${t}`,"error")}},className:"btn btn-success btn-outline w-full",children:[t.jsx(C,{})," Update block data"]})})]})},Bt=s.createContext({theme:"default",updateTheme:()=>{}}),Ft=({children:e})=>{const[a,l]=s.useState((()=>localStorage.getItem("theme")||"default")),o=s.useCallback((e=>{l(e),localStorage.setItem("theme",e),document.documentElement.setAttribute("data-theme",e)}),[]);return s.useEffect((()=>{document.documentElement.setAttribute("data-theme",a)}),[a]),t.jsx(Bt.Provider,{value:{theme:a,updateTheme:o},children:e})},Rt=({theme:e,handleThemeChange:a})=>t.jsx("div",{className:"join join-vertical w-full",children:["default","light","dark","cupcake","aqua","retro","cyberpunk","pastel","nord"].map((s=>t.jsx("input",{type:"radio",name:"theme-buttons",className:"btn theme-controller join-item btn-sm font-thin","aria-label":s.charAt(0).toUpperCase()+s.slice(1),value:s,checked:e===s,onChange:a},s)))}),Mt=()=>{const{theme:e,updateTheme:a}=s.useContext(Bt),l=j(),{setUSParam:o}=ft(),n=v(),r=n.action,c=me((e=>e.slots)),i=yt((e=>e.setMainMessage));return t.jsx(t.Fragment,{children:t.jsxs("div",{className:`\n      ${"edit-document"===r?"bg-neutral":"bg-base-300"}\n      sticky top-0 p-sm px-md  text-xs z-30 flex gap-0.5 w-full \n      border-b border-base-300 shadow-lg`,children:[t.jsxs("div",{className:"dropdown",children:[t.jsx("button",{"aria-label":"Theme",role:"button",className:"btn btn-sm btn-square",children:t.jsx($,{})}),t.jsx("div",{className:"dropdown-content z-[1] w-52 pb-2",children:t.jsx(Rt,{theme:e,handleThemeChange:e=>{a(e.target.value)}})})]}),t.jsx(Ot,{}),t.jsx("div",{className:"flex-1"}),t.jsx("button",{className:"btn btn-sm btn-square",onClick:()=>l("/dashboard/workspaces/"),"aria-label":"Workspaces",children:t.jsx(z,{})}),t.jsx("button",{className:"btn btn-sm btn-square",onClick:async()=>{const e={...c};delete e.footer,delete e.header;const t=await wt("seed",{name:n.slug,data:e});i(`${t.message} w: ${t.filePath} `,"success")},"aria-label":"Workspaces",children:t.jsx(V,{})}),t.jsx("button",{className:"btn btn-sm btn-square",onClick:()=>{o("rightbar","user")},"aria-label":"Użytkownik",children:t.jsx(q,{})})]})})},$t=o.lazy((()=>be((()=>import("./vendor-D21JgsWP.js").then((e=>e.ae))),[]))),zt=Object.assign({"../../blocks/ActionBlockSchema.ts":Ne,"../../blocks/FancyImagesSchema.ts":we,"../../blocks/HeadingTextSchema.ts":De,"../../blocks/ImageSchema.ts":Ie,"../../blocks/InfoColumnsSchema.ts":Te,"../../blocks/InputBlockSchema.ts":Pe,"../../blocks/LeedSchema.ts":Ue,"../../blocks/LinkSchema.ts":Fe,"../../blocks/ListBlockSchema.ts":Me,"../../blocks/ListTableBlockSchema.ts":ze,"../../blocks/LogoSchema.ts":qe,"../../blocks/ParagraphSchema.ts":He,"../../blocks/SelectBlockSchema.ts":Ge,"../../blocks/SubmitFormSchema.ts":Qe,"../../blocks/WorkspacesHeroSchema.ts":Ze}),Vt=()=>{const{selectedBlock:e,selectedSlot:a,setBlockData:l,removeBlock:o,moveBlock:n,deselectBlock:r}=me(),[c,i]=s.useState(null),[d,p]=s.useState(null);s.useEffect((()=>{if(e){const t=`../../blocks/${e.filename}Schema.ts`,a=zt[t]?.default;i(a?a.jsonSchema:null)}be((()=>import("./vendor-D21JgsWP.js").then((e=>e.af))),[]).then((e=>{p((()=>e.default))}))}),[e]);const m={SelectWidget:tt,CheckboxWidget:nt};return e?c?t.jsxs(t.Fragment,{children:[t.jsx(Lt,{label:e.filename,callback:()=>{r()}}),t.jsx(s.Suspense,{fallback:t.jsx("div",{children:"Loading form..."}),children:d&&t.jsx($t,{schema:c,validator:d,formData:e.data,onChange:t=>{e&&l(e.id,t.formData)},uiSchema:{"ui:submitButtonOptions":{norender:!0}},templates:{BaseInputTemplate:et,TitleFieldTemplate:Ye,ArrayFieldTemplate:at,ArrayFieldItemTemplate:st,DescriptionFieldTemplate:lt,FieldTemplate:ot},widgets:m})}),t.jsxs("div",{className:"flex gap-2 p-md border-b border-base-300",children:[t.jsxs("button",{"aria-label":"Move Up",className:"btn btn-outline btn-sm",onClick:()=>a&&n(e.id,a,"up"),children:[t.jsx(K,{})," Move Up"]}),t.jsxs("button",{"aria-label":"Move Down",className:"btn btn-outline btn-sm",onClick:()=>a&&n(e.id,a,"down"),children:[t.jsx(H,{})," Move Down"]}),t.jsxs("button",{"aria-label":"Delete Block",className:"btn btn-outline btn-sm text-red-600",onClick:()=>a&&o(e.id,a),children:[t.jsx(W,{})," Delete Block"]})]})]}):t.jsx("div",{className:"p-4",children:"Loading block schema..."}):t.jsx("div",{className:"p-4",children:"No block selected"})},qt=({children:e})=>t.jsx("div",{className:"fixed right-0 top-0 w-1/3 h-full bg-base-100 z-50 border-l border-base-300 overflow-y-auto",children:e}),Kt={},Ht=({block:e})=>{const a=me((e=>e.isEditing));let l=Kt[e.filename];return l||(l=o.lazy((()=>((e,t,a)=>{const s=e[t];return s?"function"==typeof s?s():Promise.resolve(s):new Promise(((e,s)=>{("function"==typeof queueMicrotask?queueMicrotask:setTimeout)(s.bind(null,new Error("Unknown variable dynamic import: "+t+(t.split("/").length!==a?". Note that variables only represent file names one level deep.":""))))}))})(Object.assign({"../blocks/ActionBlock.tsx":()=>be((()=>import("./ActionBlock-BWcg28hl.js")),__vite__mapDeps([15,1,5])),"../blocks/FancyImages.tsx":()=>be((()=>import("./FancyImages-DX186_fT.js")),__vite__mapDeps([16,1])),"../blocks/HeadingText.tsx":()=>be((()=>import("./HeadingText-Bthoudfk.js")),__vite__mapDeps([17,1])),"../blocks/Image.tsx":()=>be((()=>import("./Image-B3h545Xd.js")),__vite__mapDeps([18,1])),"../blocks/InfoColumns.tsx":()=>be((()=>import("./InfoColumns-CYOKsSXB.js")),__vite__mapDeps([19,1])),"../blocks/InputBlock.tsx":()=>be((()=>import("./InputBlock-XzhbGQXc.js")),__vite__mapDeps([20,1])),"../blocks/Leed.tsx":()=>be((()=>import("./Leed-DC1kgrBM.js")),__vite__mapDeps([21,1])),"../blocks/Link.tsx":()=>be((()=>import("./Link-BQhYk8jH.js")),__vite__mapDeps([22,1])),"../blocks/ListBlock.tsx":()=>be((()=>import("./ListBlock-DtFRppLX.js")),__vite__mapDeps([23,1])),"../blocks/ListTableBlock.tsx":()=>be((()=>import("./ListTableBlock-Bkskx-AC.js")),__vite__mapDeps([24,1])),"../blocks/Logo.tsx":()=>be((()=>Promise.resolve().then((()=>sa))),void 0),"../blocks/PaginationBlock.tsx":()=>be((()=>import("./PaginationBlock-CPr_hdSr.js")),__vite__mapDeps([25,1])),"../blocks/Paragraph.tsx":()=>be((()=>import("./Paragraph-CL8Oue3i.js")),__vite__mapDeps([26,1])),"../blocks/SelectBlock.tsx":()=>be((()=>Promise.resolve().then((()=>ct))),void 0),"../blocks/SubmitForm.tsx":()=>be((()=>import("./SubmitForm-DBrGg3tb.js")),__vite__mapDeps([27,1,15,5])),"../blocks/WorkspacesHero.tsx":()=>be((()=>import("./WorkspacesHero-DpP9gHum.js")),__vite__mapDeps([28,1]))}),`../blocks/${e.filename}.tsx`,3).then((e=>({default:e.default}))).catch((e=>({default:()=>t.jsx("div",{children:"Nie udało się załadować komponentu."})}))))),Kt[e.filename]=l),t.jsx("div",{className:a?"editing-class":"view-class",children:t.jsx(s.Suspense,{fallback:t.jsx(t.Fragment,{}),children:t.jsx(l,{...e.data})})})},Wt=({slots:e,slotName:a})=>e[a]?t.jsx(t.Fragment,{children:e[a].map((e=>t.jsx("div",{className:"block-wrapper",children:t.jsx(Ht,{block:e})},e.id)))}):t.jsx(t.Fragment,{}),Gt=({slots:e,slotName:a})=>{const{selectedSlot:s,selectedBlock:l,setSelectedSlot:o,setSelectedBlock:n,isEditing:r,setCopiedBlocks:c}=me(),i=P(),d=j(),p=yt((e=>e.setMainMessage));return t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"absolute w-full h-full border z-10 pointer-events-none "+(s===a?"border-primary":"border-base-300")}),t.jsxs("div",{className:"absolute -top-8 h-8 z-20 rounded-t flex justify-between \n          items-center px-md gap-xs "+(s===a?"bg-primary":"bg-base-300"),children:[t.jsxs("div",{className:"flex gap-xs items-center h-full text-sm cursor-pointer",onClick:()=>{if(r&&s!==a){o(a),n(null);const e=new URLSearchParams(i.search);e.delete("rightbar"),d({pathname:i.pathname,search:e.toString()})}},children:[t.jsx(G,{className:""+(s===a?"text-neutral":"text-warning")}),t.jsx("span",{className:""+(s===a?"text-neutral":""),children:a})]}),r&&t.jsx("button",{onClick:t=>{t.stopPropagation(),(()=>{if(r){const t=e[a]||[];c(t)}})(),p("Copied all blocks in this slot","info")},className:"btn btn-xs btn-circle z-30 -mr-sm ml-sm",title:"Copy all blocks in this slot",children:t.jsx(J,{className:"text-sm"})})]}),t.jsx("div",{className:"h-px"}),e[a]&&e[a].map((e=>t.jsxs("div",{className:"block-wrapper m-px relative",children:[t.jsx(Ht,{block:e}),t.jsx("div",{className:"absolute top-px bottom-px left-px right-px w-full h-full border "+(l?.id===e.id?"bg-primary bg-opacity-10 border-secondary":"border-base-300 border-dashed"),onPointerDown:t=>{t.stopPropagation(),(e=>{n(e),o(a);const t=new URLSearchParams(i.search);t.set("rightbar","block"),d({pathname:i.pathname,search:t.toString()})})(e)}})]},e.id))),t.jsx("div",{className:"h-8"})]})},Jt=()=>t.jsxs(t.Fragment,{children:[t.jsx(Lt,{callback:()=>{},label:"Login form"}),t.jsx("form",{className:"flex flex-col gap-sm p-sm",children:t.jsx(Wt,{slots:{loginForm:[{id:"75f19de7-4bab-4343-99eb-80a81dc38306",filename:"InputBlock",data:{label:"User email",fieldName:"user.email",className:""}},{id:"9b7b7f4d-889c-440d-88ed-bf9f4920c256",filename:"InputBlock",data:{label:"Password",fieldName:"user.password",className:""}},{id:"5b8d9266-a445-425b-aae2-59aa0b181314",filename:"SubmitForm",data:{actions:[{scope:"user",action:"SignInAction"}]}}]},slotName:"loginForm"})})]}),Qt=()=>{const{getUSParam:e,setUSParam:a}=ft(),s=e("rightview")||"table",l=e=>{a("rightview",e)},o={workspaceList:[{id:"e5a47be2-a39b-4dd7-b759-46e628e9eb82",filename:"ListTableBlock",data:{repeater:[{label:"Title",key:"title"},{label:"Slug",key:"slug"}],url:"/dashboard/documents?workspaceId={id}",actions:[{icon:"edit",url:"rightview=edit&rightbar=workspaces&workspaceId={id}"},{icon:"trash",url:"rightview=delete&rightbar=workspaces&workspaceId={id}"}],path:"workspaces.workspaces.items",className:"list-component-class"}}],workspaceNew:[{id:"4bab",filename:"InputBlock",data:{label:"Title",fieldName:"workspace.title",className:""}},{id:"889c",filename:"InputBlock",data:{label:"Content",fieldName:"workspace.content",className:"",default:"default",type:"hidden"}},{id:"a445",filename:"SubmitForm",data:{actions:[{scope:"workspace",action:"InsertAction"}]}}],workspaceUpdate:[{id:"854148c4-6371-4221-8f29-d9d17c662849",data:{reloadOnParamsChange:!0,actions:[{scope:"workspaces.workspaces.items",action:"FilterScopeByIdAction"}]},filename:"ActionBlock"},{id:"4343",filename:"InputBlock",data:{label:"Title",fieldName:"workspace.title",className:""}},{id:"440d",filename:"InputBlock",data:{label:"Slug",fieldName:"workspace.slug",className:"",readonly:"readonly"}},{id:"425b",filename:"SubmitForm",data:{actions:[{scope:"workspace",action:"UpdateAction"}]}}],workspaceDelete:[{id:"854148c4-6371-4221-8f29-d9d17c662849",data:{reloadOnParamsChange:!0,actions:[{scope:"workspaces.workspaces.items",action:"FilterScopeByIdAction"}]},filename:"ActionBlock"},{id:"4343",filename:"InputBlock",data:{label:"Id",fieldName:"workspace.id",className:""}},{id:"440d",filename:"InputBlock",data:{label:"Slug",fieldName:"workspace.slug",className:"",readonly:"readonly"}},{id:"425b",filename:"SubmitForm",data:{actions:[{scope:"workspace",action:"DeleteAction"}]}}]};return t.jsxs(t.Fragment,{children:[t.jsx(Lt,{callback:()=>{l("table")},label:"Workspaces"}),t.jsxs("div",{role:"tablist",className:"tabs tabs-bordered tabs-lg",children:[t.jsx("a",{role:"tab",className:"tab "+("table"===s?"tab-active":""),onClick:()=>l("table"),children:"List"}),t.jsx("a",{role:"tab",className:"tab "+("createNew"===s?"tab-active":""),onClick:()=>{l("createNew")},children:"Create new"})]}),"table"===s&&t.jsx(Wt,{slots:o,slotName:"workspaceList"}),"createNew"===s&&t.jsxs("form",{className:"flex flex-col gap-sm p-sm",children:[t.jsxs("h2",{className:"font-extrabold text-3xl p-md",children:["Create ",t.jsx("br",{}),"new Workspace"]}),t.jsx(Wt,{slots:o,slotName:"workspaceNew"})]}),"edit"===s&&t.jsxs("form",{className:"flex flex-col gap-sm p-sm",children:[t.jsx("div",{className:"p-md",children:t.jsx("h2",{className:"font-extrabold text-3xl",children:"Edit Workspace:"})}),t.jsx(Wt,{slots:o,slotName:"workspaceUpdate"})]}),"delete"===s&&t.jsxs("form",{className:"flex flex-col gap-sm p-sm",children:[t.jsx("div",{className:"p-md",children:t.jsx("h2",{className:"font-extrabold text-3xl",children:"Delete Workspace:"})}),t.jsx(Wt,{slots:o,slotName:"workspaceDelete"})]})]})},Xt=({context:e,content:a})=>t.jsxs("div",{className:`${e&&"drawer lg:drawer-open"} font-inter relative bg-base-100 min-h-screen`,children:[e&&t.jsx("input",{id:"my-drawer-2",type:"checkbox",className:"drawer-toggle"}),t.jsxs("div",{className:"drawer-content",children:[a,t.jsx("label",{htmlFor:"my-drawer-2",className:"btn btn-primary drawer-button lg:hidden",children:"Open drawer"})]}),e&&t.jsxs("div",{className:"drawer-side",children:[t.jsx("label",{htmlFor:"my-drawer-2","aria-label":"close sidebar",className:"drawer-overlay"}),e]})]}),Zt=e=>{switch(e){case"success":return"bg-success";case"error":return"bg-error";case"info":return"bg-info";default:return"gb-base-300"}},Yt=e=>{switch(e){case"success":return"text-success";case"error":return"text-error";case"info":return"text-info";default:return"text-neutral"}},ea=e=>{switch(e){case"trash":return Y;case"edit":return Z;case"file":return X;default:return Q}},ta=()=>{const{mainMessage:e}=yt((e=>({mainMessage:e.mainMessage})));return e.message&&e.type?t.jsx("div",{className:`${Yt(e.type)}  fixed top-0 left-0 text-base w-full z-30 flex justify-center items-center p-sm pointer-events-none    `,children:t.jsxs("div",{className:"flex py-xs px-md items-center justify-center gap-sm bg-base-300 rounded -mt-px",children:["error"===e.type&&t.jsx(ee,{className:"text-base"}),"success"===e.type&&t.jsx(te,{}),"info"===e.type&&t.jsx(ae,{}),e.message]})}):null},aa=({className:e})=>t.jsx(E,{to:"/",className:`${e||"inline-block"} `,children:t.jsx("img",{src:"/logo.svg",alt:"logo"})}),sa=Object.freeze(Object.defineProperty({__proto__:null,Logo:aa,default:aa},Symbol.toStringTag,{value:"Module"})),la=()=>{const{slots:e,setSlots:a}=me(),{action:l}=v(),{getUSParam:n,getAll:r}=ft(),c=n("rightbar"),i=fe((e=>e.pageData?.layout)),d=yt((e=>e.setFilters)),{workspaceData:p,documentData:m,isWorkspaceLoading:u,isDocumentLoading:b,workspaceError:h,documentError:g}=(()=>{const{workspace:e,slug:t}=v(),{data:a,isLoading:s,error:l}=D({queryKey:["workspace",e],queryFn:()=>_t("workspace",e||"dashboard")}),{data:o,isLoading:n,error:r}=D({queryKey:["document",t],queryFn:()=>_t("document",t||"documents"),enabled:!!a});return{workspaceData:a,documentData:o,isWorkspaceLoading:s,isDocumentLoading:n,workspaceError:l,documentError:r}})();if(s.useEffect((()=>{if(p&&m){const{_pageData:e,...t}=p.content,s=((e,t)=>({...e,...t}))(t,m?.content||{});a(s),fe.setState((()=>({pageData:{...e}}))),d(r()),(e=>{if(e){const t=he[e.layout]?e.layout:Object.keys(he)[0];fe.setState((a=>({...a,pageData:{...a.pageData,layout:t},initialScope:{...e}})))}})(e)}}),[m,a,p]),u||b)return t.jsx("div",{"data-theme":!0,className:"bg-base-100 text-base-content p-lg h-screen"});if(h||g)return t.jsxs("div",{className:"text-error bg-base-100 h-screen p-lg",children:[t.jsx(aa,{}),t.jsxs("div",{className:" bg-neutral-content p-md",children:["Error loading content:"," ",h?.message||g?.message]})]});const y=he[i]?i:Object.keys(he)[0],f=he[y];if(!f)return t.jsx("div",{children:t.jsx("div",{className:"bg-neutral h-screentext-error",children:"Error: layout config not found"})});const x=f.slots.reduce(((a,s)=>{const o=(e=>"edit-scope"===e||"edit-document"===e||"edit-block"===e)(l)?Gt:Wt;return a[s]=t.jsx(o,{slots:e,slotName:s}),a}),{});return t.jsx(Xt,{context:l?t.jsx(Tt,{}):p.content._sideStatic&&t.jsx("div",{className:"flex flex-col border-r border-base-300 h-full",children:t.jsx(Wt,{slots:p.content,slotName:"_sideStatic"})}),content:t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:`${c&&"w-2/3"}`,children:[t.jsx(Mt,{}),t.jsx(ta,{}),t.jsx(kt,{}),t.jsxs("div",{className:"flex items-stretch",children:["edit-scope"===l&&t.jsx("div",{className:"bg-base-300 w-3/5",children:t.jsx(Ut,{})}),t.jsx("div",{className:"flex-1 "+(l?"px-xs  ":""),children:t.jsx(s.Suspense,{fallback:null,children:f.component&&o.createElement(f.component,x)})})]})]}),c&&t.jsxs(qt,{children:["user"===c&&t.jsx(Jt,{}),"block"===c&&t.jsx(Vt,{}),"workspaces"===c&&t.jsx(Qt,{})]})]})})},oa=()=>t.jsx(pe,{children:t.jsx(ie,{children:t.jsx(se,{children:t.jsxs(le,{children:[t.jsx(oe,{path:"/",element:t.jsx(ne,{to:"/home/home-page/",replace:!0})}),t.jsx(oe,{path:"/:workspace/:slug",element:t.jsx(la,{})}),t.jsx(oe,{path:"/:workspace/:slug/:action",element:t.jsx(la,{})})]})})})});re.createRoot(document.getElementById("root")).render(t.jsx(Ft,{children:t.jsx(oa,{})}));export{aa as L,ke as M,de as U,yt as a,ft as b,ea as c,Dt as d,ht as e,Nt as f,ye as g,St as h,je as i,wt as j,ut as k,mt as l,xe as m,Zt as n,At as o,xt as p,fe as u};

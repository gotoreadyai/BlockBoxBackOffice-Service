import{p as e,r as a,j as s,R as r}from"./vendor-CipjtVa5.js";import{b as t,u as n,g as l,p as i,c}from"./index-DqDPqpRq.js";const o=(e,a)=>a.split(".").reduce(((e,a)=>e?.[a]),e),d=({path:d,repeater:h,actions:p=[],className:m="",url:j=""})=>{const{navigateTo:u}=t(),{workspace:x,slug:g}=e(),y=n((e=>l(d)(e.pageData))),k=n((e=>e.loading[d])),[f,N]=a.useState(!1);if(a.useEffect((()=>{k||y&&0!==y.length?N(!1):N(!0)}),[k,y]),!d.trim())return s.jsx("div",{children:"Nieprawidłowa ścieżka do danych."});const b=Array.isArray(y)?y:[],v=(e,a,t,n)=>s.jsx("div",{className:"w-8 "+(t?"skeleton":"bg-base-300 rounded p-sm -my-xs hover:bg-base-100"),onClick:s=>!t&&((e,a,s)=>{e.preventDefault(),e.stopPropagation(),u(i(a,{...s,_router_workspace:x,_router_slug:g}))})(s,e.url,a),children:!t&&r.createElement(c(e.icon))},n),w=(e,a,r)=>s.jsxs("tr",{className:"hover cursor-pointer",onClick:()=>!a&&(e=>u(i(j,e)))(e),children:[h.map((({key:r})=>((e,a,r)=>s.jsx("td",{children:r?s.jsx("div",{className:"skeleton p-1 w-full",children:" "}):o(e,a)??"Brak danych"},a))(e,r,a))),p.length>0&&s.jsx("td",{className:"gap-sm flex justify-end",children:p.map(((s,r)=>v(s,e,a,r)))})]},r),A=h.length+(p.length>0?1:0);return s.jsx("div",{className:`container m-auto ${m}`,children:s.jsxs("table",{className:"table",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[h.map((({label:e,key:a})=>s.jsx("th",{children:e},a))),p.length>0&&s.jsx("th",{className:"text-right",children:"Akcje"})]})}),s.jsx("tbody",{children:k?Array.from({length:5}).map(((e,a)=>w({},!0,`skeleton-${a}`))):b.length>0?b.map((e=>w(e,!1,e.id||Math.random()))):s.jsx("tr",{className:"transition-opacity ease-in duration-700 "+(f?"opacity-100":"opacity-0"),children:s.jsx("td",{colSpan:A,children:"Brak danych do wyświetlenia."})})})]})})};export{d as default};
